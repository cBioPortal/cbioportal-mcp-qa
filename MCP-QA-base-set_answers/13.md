# Question 13

**Type:** Survival Analysis - Gene Alteration

**Question:** For the TCGA pan-cancer cohort what is the survival difference and the corresponding statistical significance between patients with mutations in both TP53 and KRAS versus patients with only a KRAS mutation?

**Answer:**

Based on my analysis of the TCGA pan-cancer cohort data, I can provide you with the survival comparison between patients with mutations in both TP53 and KRAS versus patients with only KRAS mutations:

## Survival Analysis Results

### Patient Cohorts:
- **KRAS only**: 420 patients
- **TP53 and KRAS**: 331 patients

### Survival Outcomes:

**KRAS only group:**
- Mean survival: 29.86 months
- Median survival: 21.16 months
- Death rate: 30.95% (130 deaths, 290 living)
- Q1-Q3 survival range: 11.53 - 38.85 months

**TP53 and KRAS group:**
- Mean survival: 26.64 months  
- Median survival: 19.33 months
- Death rate: 37.46% (124 deaths, 207 living)
- Q1-Q3 survival range: 11.00 - 34.83 months

### Key Findings:

1. **Survival Difference**: Patients with both TP53 and KRAS mutations had worse survival outcomes compared to those with KRAS mutations alone:
   - **3.22 months shorter mean survival** (29.86 vs 26.64 months)
   - **1.83 months shorter median survival** (21.16 vs 19.33 months)

2. **Mortality Rate**: The TP53+KRAS group had a higher death rate (37.46%) compared to the KRAS-only group (30.95%), representing a **6.51 percentage point increase** in mortality risk.

3. **Cancer Types**: The analysis included multiple cancer types, with the largest contributions from:
   - Colorectal adenocarcinoma (COADREAD)
   - Lung adenocarcinoma (LUAD) 
   - Pancreatic adenocarcinoma (PAAD)
   - Uterine corpus endometrial carcinoma (UCEC)

### Statistical Significance:

While I can provide the descriptive statistics from the database, I cannot perform formal statistical significance testing (such as log-rank tests or Cox proportional hazards models) within this database environment. However, the observed differences suggest:

- The presence of TP53 mutations in addition to KRAS mutations is associated with worse survival outcomes
- The effect size appears clinically meaningful (>3 months difference in mean survival)
- The higher death rate in the TP53+KRAS group (37.46% vs 30.95%) suggests increased mortality risk

For definitive statistical significance testing, you would need to perform survival analysis using appropriate statistical software with methods like the log-rank test or Cox regression, accounting for potential confounding factors such as cancer type, stage, and treatment differences.

---

## SQL Queries Executed

### Query 1
**Timestamp:** 2025-10-02 09:40:51

```sql
SELECT cancer_study_identifier, name, description
FROM cancer_study
WHERE cancer_study_identifier LIKE '%tcga%'
ORDER BY cancer_study_identifier
```

### Query 2
**Timestamp:** 2025-10-02 09:40:58

```sql
SELECT DISTINCT attribute_name
FROM clinical_data_derived
WHERE cancer_study_identifier LIKE '%pan_can_atlas%'
AND (attribute_name LIKE '%SURV%' OR attribute_name LIKE '%OS%' OR attribute_name LIKE '%VITAL%' OR attribute_name LIKE '%DEATH%' OR attribute_name LIKE '%TIME%')
ORDER BY attribute_name
```

### Query 3
**Timestamp:** 2025-10-02 09:41:05

```sql
SELECT cancer_study_identifier, COUNT(*) as patient_count
FROM clinical_data_derived
WHERE cancer_study_identifier LIKE '%pan_can_atlas%'
AND type = 'patient'
GROUP BY cancer_study_identifier
ORDER BY patient_count DESC
LIMIT 10
```

### Query 4
**Timestamp:** 2025-10-02 09:41:10

```sql
SELECT cancer_study_identifier, COUNT(DISTINCT patient_unique_id) as patients_with_mutations
FROM genomic_event_derived
WHERE cancer_study_identifier LIKE '%pan_can_atlas%'
AND variant_type = 'mutation'
AND hugo_gene_symbol IN ('TP53', 'KRAS')
GROUP BY cancer_study_identifier
ORDER BY patients_with_mutations DESC
LIMIT 10
```

### Query 5
**Timestamp:** 2025-10-02 09:41:18

```sql
WITH mutation_status AS (
SELECT
patient_unique_id,
cancer_study_identifier,
SUM(CASE WHEN hugo_gene_symbol = 'TP53' THEN 1 ELSE 0 END) as tp53_mutations,
SUM(CASE WHEN hugo_gene_symbol = 'KRAS' THEN 1 ELSE 0 END) as kras_mutations
FROM genomic_event_derived
WHERE cancer_study_identifier LIKE '%pan_can_atlas%'
AND variant_type = 'mutation'
AND hugo_gene_symbol IN ('TP53', 'KRAS')
GROUP BY patient_unique_id, cancer_study_identifier
),
patient_groups AS (
SELECT
patient_unique_id,
cancer_study_identifier,
CASE
WHEN tp53_mutations > 0 AND kras_mutations > 0 THEN 'TP53_and_KRAS'
WHEN tp53_mutations = 0 AND kras_mutations > 0 THEN 'KRAS_only'
WHEN tp53_mutations > 0 AND kras_mutations = 0 THEN 'TP53_only'
ELSE 'Neither'
END as mutation_group
FROM mutation_status
)
SELECT
mutation_group,
COUNT(*) as patient_count,
COUNT(DISTINCT cancer_study_identifier) as study_count
FROM patient_groups
WHERE mutation_group IN ('TP53_and_KRAS', 'KRAS_only')
GROUP BY mutation_group
ORDER BY patient_count DESC
```

### Query 6
**Timestamp:** 2025-10-02 09:41:23

```sql
SELECT
patient_unique_id,
cancer_study_identifier,
hugo_gene_symbol,
COUNT(*) as mutation_count
FROM genomic_event_derived
WHERE cancer_study_identifier LIKE '%pan_can_atlas%'
AND variant_type = 'mutation'
AND hugo_gene_symbol IN ('TP53', 'KRAS')
GROUP BY patient_unique_id, cancer_study_identifier, hugo_gene_symbol
ORDER BY patient_unique_id
LIMIT 20
```

### Query 7
**Timestamp:** 2025-10-02 09:41:30

```sql
SELECT
g.patient_unique_id,
g.cancer_study_identifier,
groupArray(g.hugo_gene_symbol) as mutated_genes,
CASE
WHEN has(groupArray(g.hugo_gene_symbol), 'TP53') AND has(groupArray(g.hugo_gene_symbol), 'KRAS') THEN 'TP53_and_KRAS'
WHEN NOT has(groupArray(g.hugo_gene_symbol), 'TP53') AND has(groupArray(g.hugo_gene_symbol), 'KRAS') THEN 'KRAS_only'
WHEN has(groupArray(g.hugo_gene_symbol), 'TP53') AND NOT has(groupArray(g.hugo_gene_symbol), 'KRAS') THEN 'TP53_only'
ELSE 'Neither'
END as mutation_group
FROM genomic_event_derived g
WHERE g.cancer_study_identifier LIKE '%pan_can_atlas%'
AND g.variant_type = 'mutation'
AND g.hugo_gene_symbol IN ('TP53', 'KRAS')
GROUP BY g.patient_unique_id, g.cancer_study_identifier
HAVING mutation_group IN ('TP53_and_KRAS', 'KRAS_only')
ORDER BY g.patient_unique_id
LIMIT 20
```

### Query 8
**Timestamp:** 2025-10-02 09:41:36

```sql
SELECT
CASE
WHEN has(groupArray(g.hugo_gene_symbol), 'TP53') AND has(groupArray(g.hugo_gene_symbol), 'KRAS') THEN 'TP53_and_KRAS'
WHEN NOT has(groupArray(g.hugo_gene_symbol), 'TP53') AND has(groupArray(g.hugo_gene_symbol), 'KRAS') THEN 'KRAS_only'
WHEN has(groupArray(g.hugo_gene_symbol), 'TP53') AND NOT has(groupArray(g.hugo_gene_symbol), 'KRAS') THEN 'TP53_only'
ELSE 'Neither'
END as mutation_group,
COUNT(*) as patient_count
FROM genomic_event_derived g
WHERE g.cancer_study_identifier LIKE '%pan_can_atlas%'
AND g.variant_type = 'mutation'
AND g.hugo_gene_symbol IN ('TP53', 'KRAS')
GROUP BY g.patient_unique_id, g.cancer_study_identifier
HAVING mutation_group IN ('TP53_and_KRAS', 'KRAS_only')
GROUP BY mutation_group
ORDER BY patient_count DESC
```

### Query 9
**Timestamp:** 2025-10-02 09:41:42

```sql
SELECT
mutation_group,
COUNT(*) as patient_count
FROM (
SELECT
g.patient_unique_id,
CASE
WHEN has(groupArray(g.hugo_gene_symbol), 'TP53') AND has(groupArray(g.hugo_gene_symbol), 'KRAS') THEN 'TP53_and_KRAS'
WHEN NOT has(groupArray(g.hugo_gene_symbol), 'TP53') AND has(groupArray(g.hugo_gene_symbol), 'KRAS') THEN 'KRAS_only'
WHEN has(groupArray(g.hugo_gene_symbol), 'TP53') AND NOT has(groupArray(g.hugo_gene_symbol), 'KRAS') THEN 'TP53_only'
ELSE 'Neither'
END as mutation_group
FROM genomic_event_derived g
WHERE g.cancer_study_identifier LIKE '%pan_can_atlas%'
AND g.variant_type = 'mutation'
AND g.hugo_gene_symbol IN ('TP53', 'KRAS')
GROUP BY g.patient_unique_id, g.cancer_study_identifier
HAVING mutation_group IN ('TP53_and_KRAS', 'KRAS_only')
)
GROUP BY mutation_group
ORDER BY patient_count DESC
```

### Query 10
**Timestamp:** 2025-10-02 09:41:52

```sql
SELECT
mutation_groups.mutation_group,
c.attribute_name,
c.attribute_value,
COUNT(*) as count
FROM (
SELECT
g.patient_unique_id,
g.cancer_study_identifier,
CASE
WHEN has(groupArray(g.hugo_gene_symbol), 'TP53') AND has(groupArray(g.hugo_gene_symbol), 'KRAS') THEN 'TP53_and_KRAS'
WHEN NOT has(groupArray(g.hugo_gene_symbol), 'TP53') AND has(groupArray(g.hugo_gene_symbol), 'KRAS') THEN 'KRAS_only'
END as mutation_group
FROM genomic_event_derived g
WHERE g.cancer_study_identifier LIKE '%pan_can_atlas%'
AND g.variant_type = 'mutation'
AND g.hugo_gene_symbol IN ('TP53', 'KRAS')
GROUP BY g.patient_unique_id, g.cancer_study_identifier
HAVING mutation_group IN ('TP53_and_KRAS', 'KRAS_only')
) mutation_groups
JOIN clinical_data_derived c ON mutation_groups.patient_unique_id = c.patient_unique_id
AND mutation_groups.cancer_study_identifier = c.cancer_study_identifier
WHERE c.attribute_name IN ('OS_MONTHS', 'OS_STATUS')
AND c.type = 'patient'
AND c.attribute_value != ''
GROUP BY mutation_groups.mutation_group, c.attribute_name, c.attribute_value
ORDER BY mutation_groups.mutation_group, c.attribute_name, c.attribute_value
```

### Query 11
**Timestamp:** 2025-10-02 09:42:15

```sql
SELECT
mutation_groups.mutation_group,
COUNT(*) as total_patients,
AVG(CASE WHEN c.attribute_name = 'OS_MONTHS' THEN toFloat64(c.attribute_value) ELSE NULL END) as mean_survival_months,
quantile(0.5)(CASE WHEN c.attribute_name = 'OS_MONTHS' THEN toFloat64(c.attribute_value) ELSE NULL END) as median_survival_months,
SUM(CASE WHEN c.attribute_name = 'OS_STATUS' AND c.attribute_value = '1:DECEASED' THEN 1 ELSE 0 END) as deaths,
SUM(CASE WHEN c.attribute_name = 'OS_STATUS' AND c.attribute_value = '0:LIVING' THEN 1 ELSE 0 END) as living
FROM (
SELECT
g.patient_unique_id,
g.cancer_study_identifier,
CASE
WHEN has(groupArray(g.hugo_gene_symbol), 'TP53') AND has(groupArray(g.hugo_gene_symbol), 'KRAS') THEN 'TP53_and_KRAS'
WHEN NOT has(groupArray(g.hugo_gene_symbol), 'TP53') AND has(groupArray(g.hugo_gene_symbol), 'KRAS') THEN 'KRAS_only'
END as mutation_group
FROM genomic_event_derived g
WHERE g.cancer_study_identifier LIKE '%pan_can_atlas%'
AND g.variant_type = 'mutation'
AND g.hugo_gene_symbol IN ('TP53', 'KRAS')
GROUP BY g.patient_unique_id, g.cancer_study_identifier
HAVING mutation_group IN ('TP53_and_KRAS', 'KRAS_only')
) mutation_groups
JOIN clinical_data_derived c ON mutation_groups.patient_unique_id = c.patient_unique_id
AND mutation_groups.cancer_study_identifier = c.cancer_study_identifier
WHERE c.attribute_name IN ('OS_MONTHS', 'OS_STATUS')
AND c.type = 'patient'
AND c.attribute_value != ''
GROUP BY mutation_groups.mutation_group
ORDER BY mutation_groups.mutation_group
```

### Query 12
**Timestamp:** 2025-10-02 09:42:27

```sql
SELECT
mutation_groups.mutation_group,
COUNT(DISTINCT mutation_groups.patient_unique_id) as total_patients,
AVG(CASE WHEN c.attribute_name = 'OS_MONTHS' THEN toFloat64OrNull(c.attribute_value) ELSE NULL END) as mean_survival_months,
quantile(0.5)(CASE WHEN c.attribute_name = 'OS_MONTHS' THEN toFloat64OrNull(c.attribute_value) ELSE NULL END) as median_survival_months,
COUNT(CASE WHEN c.attribute_name = 'OS_STATUS' AND c.attribute_value = '1:DECEASED' THEN 1 ELSE NULL END) as deaths,
COUNT(CASE WHEN c.attribute_name = 'OS_STATUS' AND c.attribute_value = '0:LIVING' THEN 1 ELSE NULL END) as living
FROM (
SELECT
g.patient_unique_id,
g.cancer_study_identifier,
CASE
WHEN has(groupArray(g.hugo_gene_symbol), 'TP53') AND has(groupArray(g.hugo_gene_symbol), 'KRAS') THEN 'TP53_and_KRAS'
WHEN NOT has(groupArray(g.hugo_gene_symbol), 'TP53') AND has(groupArray(g.hugo_gene_symbol), 'KRAS') THEN 'KRAS_only'
END as mutation_group
FROM genomic_event_derived g
WHERE g.cancer_study_identifier LIKE '%pan_can_atlas%'
AND g.variant_type = 'mutation'
AND g.hugo_gene_symbol IN ('TP53', 'KRAS')
GROUP BY g.patient_unique_id, g.cancer_study_identifier
HAVING mutation_group IN ('TP53_and_KRAS', 'KRAS_only')
) mutation_groups
JOIN clinical_data_derived c ON mutation_groups.patient_unique_id = c.patient_unique_id
AND mutation_groups.cancer_study_identifier = c.cancer_study_identifier
WHERE c.attribute_name IN ('OS_MONTHS', 'OS_STATUS')
AND c.type = 'patient'
AND c.attribute_value != ''
GROUP BY mutation_groups.mutation_group
ORDER BY mutation_groups.mutation_group
```

### Query 13
**Timestamp:** 2025-10-02 09:42:38

```sql
SELECT
mutation_groups.mutation_group,
COUNT(DISTINCT mutation_groups.patient_unique_id) as total_patients,
AVG(CASE WHEN c.attribute_name = 'OS_MONTHS' THEN toFloat64OrNull(c.attribute_value) ELSE NULL END) as mean_survival_months,
quantile(0.5)(CASE WHEN c.attribute_name = 'OS_MONTHS' THEN toFloat64OrNull(c.attribute_value) ELSE NULL END) as median_survival_months,
quantile(0.25)(CASE WHEN c.attribute_name = 'OS_MONTHS' THEN toFloat64OrNull(c.attribute_value) ELSE NULL END) as q1_survival_months,
quantile(0.75)(CASE WHEN c.attribute_name = 'OS_MONTHS' THEN toFloat64OrNull(c.attribute_value) ELSE NULL END) as q3_survival_months,
stddevPop(CASE WHEN c.attribute_name = 'OS_MONTHS' THEN toFloat64OrNull(c.attribute_value) ELSE NULL END) as std_survival_months,
COUNT(CASE WHEN c.attribute_name = 'OS_STATUS' AND c.attribute_value = '1:DECEASED' THEN 1 ELSE NULL END) as deaths,
COUNT(CASE WHEN c.attribute_name = 'OS_STATUS' AND c.attribute_value = '0:LIVING' THEN 1 ELSE NULL END) as living,
COUNT(CASE WHEN c.attribute_name = 'OS_STATUS' AND c.attribute_value = '1:DECEASED' THEN 1 ELSE NULL END) / COUNT(DISTINCT mutation_groups.patient_unique_id) as death_rate
FROM (
SELECT
g.patient_unique_id,
g.cancer_study_identifier,
CASE
WHEN has(groupArray(g.hugo_gene_symbol), 'TP53') AND has(groupArray(g.hugo_gene_symbol), 'KRAS') THEN 'TP53_and_KRAS'
WHEN NOT has(groupArray(g.hugo_gene_symbol), 'TP53') AND has(groupArray(g.hugo_gene_symbol), 'KRAS') THEN 'KRAS_only'
END as mutation_group
FROM genomic_event_derived g
WHERE g.cancer_study_identifier LIKE '%pan_can_atlas%'
AND g.variant_type = 'mutation'
AND g.hugo_gene_symbol IN ('TP53', 'KRAS')
GROUP BY g.patient_unique_id, g.cancer_study_identifier
HAVING mutation_group IN ('TP53_and_KRAS', 'KRAS_only')
) mutation_groups
JOIN clinical_data_derived c ON mutation_groups.patient_unique_id = c.patient_unique_id
AND mutation_groups.cancer_study_identifier = c.cancer_study_identifier
WHERE c.attribute_name IN ('OS_MONTHS', 'OS_STATUS')
AND c.type = 'patient'
AND c.attribute_value != ''
GROUP BY mutation_groups.mutation_group
ORDER BY mutation_groups.mutation_group
```

### Query 14
**Timestamp:** 2025-10-02 09:44:43

```sql
SELECT
mutation_groups.mutation_group,
mutation_groups.cancer_study_identifier,
COUNT(DISTINCT mutation_groups.patient_unique_id) as patient_count
FROM (
SELECT
g.patient_unique_id,
g.cancer_study_identifier,
CASE
WHEN has(groupArray(g.hugo_gene_symbol), 'TP53') AND has(groupArray(g.hugo_gene_symbol), 'KRAS') THEN 'TP53_and_KRAS'
WHEN NOT has(groupArray(g.hugo_gene_symbol), 'TP53') AND has(groupArray(g.hugo_gene_symbol), 'KRAS') THEN 'KRAS_only'
END as mutation_group
FROM genomic_event_derived g
WHERE g.cancer_study_identifier LIKE '%pan_can_atlas%'
AND g.variant_type = 'mutation'
AND g.hugo_gene_symbol IN ('TP53', 'KRAS')
GROUP BY g.patient_unique_id, g.cancer_study_identifier
HAVING mutation_group IN ('TP53_and_KRAS', 'KRAS_only')
) mutation_groups
GROUP BY mutation_groups.mutation_group, mutation_groups.cancer_study_identifier
ORDER BY mutation_groups.mutation_group, patient_count DESC
```


---

## Model Information
**Model:** anthropic:claude-sonnet-4-20250514
**Provider:** Anthropic
**Max Tokens:** 4096

---

*Generated on 2025-10-02 09:45:03*