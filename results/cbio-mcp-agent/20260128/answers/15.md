# Question 15

**Type:** Cohort Statistics

**Question:** How many unique patients have both primary and metastatic samples in the MSK-CHORD Study?

**Answer:**

I'll help you find the number of unique patients with both primary and metastatic samples in the MSK-CHORD study.

Let me query the database to find patients who have samples of both types:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nWITH patient_sample_types AS (\n  SELECT DISTINCT\n    cd.patient_unique_id,\n    cd.attribute_value as sample_type\n  FROM clinical_data_derived cd\n  WHERE cd.cancer_study_identifier = 'msk_chord_2024'\n    AND cd.attribute_name = 'SAMPLE_TYPE'\n    AND cd.attribute_value IN ('Primary', 'Metastasis')\n)\nSELECT COUNT(DISTINCT patient_unique_id) as patients_with_both_types\nFROM patient_sample_types\nGROUP BY patient_unique_id\nHAVING COUNT(DISTINCT sample_type) = 2\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1},{"patients_with_both_types":1}]}
```


Let me fix my query - I need to count the total number of patients, not group by them:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nWITH patient_sample_types AS (\n  SELECT DISTINCT\n    cd.patient_unique_id,\n    cd.attribute_value as sample_type\n  FROM clinical_data_derived cd\n  WHERE cd.cancer_study_identifier = 'msk_chord_2024'\n    AND cd.attribute_name = 'SAMPLE_TYPE'\n    AND cd.attribute_value IN ('Primary', 'Metastasis')\n),\npatients_with_both AS (\n  SELECT patient_unique_id\n  FROM patient_sample_types\n  GROUP BY patient_unique_id\n  HAVING COUNT(DISTINCT sample_type) = 2\n)\nSELECT COUNT(*) as total_patients_with_both_types\nFROM patients_with_both\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"total_patients_with_both_types":26}]}
```


**Answer: 26 unique patients** in the MSK-CHORD study have both primary and metastatic samples.

This means that 26 patients had samples collected from both their primary tumor site and from metastatic sites, which is valuable for studying tumor evolution and metastatic progression.

---

## Model Information
**Model:** anthropic:claude-sonnet-4-5-20250929
**Provider:** Anthropic
**Max Tokens:** 4096

---

*Generated on 2026-01-28 12:17:37*