# Question 58

**Type:** Survival Analysis - Gene Alteration

**Question:** In the “Pan-cancer analysis of whole genomes” study what is the survival difference and the corresponding statistical significance between patients with mutations in both TP53 and KRAS versus patients with only a KRAS mutation?

**Answer:**

I'll help you analyze the survival difference between patients with mutations in both TP53 and KRAS versus those with only KRAS mutations in the "Pan-cancer analysis of whole genomes" study.

Let me start by finding this study and understanding its structure.



Calling `list_studies` with args:
```json
{
  "search": "Pan-cancer analysis of whole genomes"
}
```



Result from `list_studies`:
```json
[{"cancer_study_identifier":"pancan_pcawg_2020","name":"Pan-cancer analysis of whole genomes (ICGC/TCGA, Nature 2020)","type_of_cancer_id":"mixed","sample_count":2998,"has_guide":false}]
```


Now let me get the study guide to understand the data structure:



Calling `get_study_guide` with args:
```json
{
  "study_id": "pancan_pcawg_2020"
}
```



Result from `get_study_guide`:
```json
# Study Guide: Pan-cancer analysis of whole genomes (ICGC/TCGA, Nature 2020)

**Study ID:** `pancan_pcawg_2020`
**Cancer Type:** mixed
**Description:** WGS changes cataloged in 2,583 whole-cancer genomes and their matched normal tissues across 38 tumor types. Source data from <A HREF="https://xenabrowser.net/datapages/?cohort=PCAWG%20(specimen%20centric)&addHub=https%3A%2F%2Fpcawg.xenahubs.net&removeHub=https%3A%2F%2Fxena.treehouse.gi.ucsc.edu%3A443">UCSC Xena</A> and <A HREF="https://dcc.icgc.org/releases/PCAWG/">ICGC Data Portal</A>.

## Cohort Statistics
- **Patients:** 2,658
- **Samples:** 2,998

## Available Data Types

- **COPY_NUMBER_ALTERATION**: Consensus putative gene level copy-number calls.
- **MUTATION_EXTENDED**: Mutations
- **MRNA_EXPRESSION**: mRNA expression (FPKM_UQ)
- **MRNA_EXPRESSION**: mRNA expression z-scores relative to all samples (log FPKM capture)
- **MRNA_EXPRESSION**: miRNA expression (UQ normalized)
- **MRNA_EXPRESSION**: miRNA expression z-scores (log UQ normalized)
- **GENERIC_ASSAY**: Mutational signatures contribution DBS
- **GENERIC_ASSAY**: Mutational signatures contribution ID
- **GENERIC_ASSAY**: Mutational signatures contribution SBS
- **GENERIC_ASSAY**: Mutational signatures counts SBS
- **GENERIC_ASSAY**: Mutational signatures counts ID
- **GENERIC_ASSAY**: Mutational signatures counts DBS

## Gene Panels

- **WES** (Whole Exome): 2,922 samples — all genes profiled

## Available Clinical Attributes

| Attribute | Samples with Data |
|-----------|------------------|
| MUTATION_COUNT | 2,997 |
| ANCESTRY_PRIMARY | 2,997 |
| SEQUENCING_TYPE | 2,997 |
| PURITY_CONFUGURATION | 2,997 |
| HISTOLOGY_TIER2 | 2,997 |
| HISTOLOGY_TIER3 | 2,997 |
| TMB_NONSYNONYMOUS | 2,997 |
| PLOIDY | 2,997 |
| SAMPLE_CLASS | 2,997 |
| ICD_10 | 2,997 |
| CELLULARITY | 2,997 |
| TBL_SCORE | 2,997 |
| STAGE | 2,997 |
| ORGAN_SYSTEM | 2,997 |
| CANCER_TYPE | 2,997 |
| PROJECT_CODE | 2,997 |
| TUMOR_SAMPLE_HISTOLOGY_CODE | 2,997 |
| HISTOLOGY_ABBREVIATION | 2,997 |
| WGD | 2,997 |
| CANCER_TYPE_DETAILED | 2,997 |

## Top Mutated Genes

| Gene | Altered Samples |
|------|----------------|
| TP53 | 902 |
| TTN | 589 |
| MUC16 | 356 |
| KRAS | 273 |
| LRP1B | 239 |
| PCLO | 235 |
| CSMD3 | 232 |
| RYR2 | 209 |
| USH2A | 203 |
| SYNE1 | 200 |

## Sample Types

- **Primary**: 2,731 samples
- **Metastasis**: 147 samples
- **Unknown**: 77 samples
- **Local Recurrence**: 41 samples
- **Cell line**: 1 samples

## Query Tips for pancan_pcawg_2020

```sql
-- Get all samples in this study
SELECT DISTINCT sample_unique_id, patient_unique_id
FROM clinical_data_derived
WHERE cancer_study_identifier = 'pancan_pcawg_2020';

-- Get mutations for a specific gene
SELECT sample_unique_id, hugo_gene_symbol, mutation_variant, mutation_type
FROM genomic_event_derived
WHERE cancer_study_identifier = 'pancan_pcawg_2020'
    AND hugo_gene_symbol = 'TP53'
    AND variant_type = 'mutation';

-- Get clinical data for specific attributes
SELECT sample_unique_id, attribute_name, attribute_value
FROM clinical_data_derived
WHERE cancer_study_identifier = 'pancan_pcawg_2020'
    AND attribute_name IN ('CANCER_TYPE', 'SAMPLE_TYPE', 'OS_MONTHS');
```

```


Now let me check what survival data is available in this study:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nSELECT DISTINCT attribute_name\nFROM clinical_data_derived\nWHERE cancer_study_identifier = 'pancan_pcawg_2020'\n  AND (attribute_name LIKE '%SURVIVAL%' OR attribute_name LIKE '%OS%' OR attribute_name LIKE '%STATUS%' OR attribute_name LIKE '%DECEASED%')\nORDER BY attribute_name\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"attribute_name":"OS_MONTHS"},{"attribute_name":"OS_STATUS"}]}
```


Great! Now let me identify patients with mutations in TP53 and KRAS, and get their survival data:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nWITH \n-- Get patients with TP53 mutations\ntp53_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'TP53'\n      AND variant_type = 'mutation'\n),\n-- Get patients with KRAS mutations\nkras_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'KRAS'\n      AND variant_type = 'mutation'\n),\n-- Classify patients into groups\npatient_groups AS (\n    SELECT \n        k.patient_unique_id,\n        CASE \n            WHEN t.patient_unique_id IS NOT NULL THEN 'Both_TP53_KRAS'\n            ELSE 'KRAS_only'\n        END AS mutation_group\n    FROM kras_patients k\n    LEFT JOIN tp53_patients t ON k.patient_unique_id = t.patient_unique_id\n),\n-- Get survival data\nsurvival_data AS (\n    SELECT \n        patient_unique_id,\n        MAX(CASE WHEN attribute_name = 'OS_MONTHS' THEN attribute_value END) AS os_months,\n        MAX(CASE WHEN attribute_name = 'OS_STATUS' THEN attribute_value END) AS os_status\n    FROM clinical_data_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND attribute_name IN ('OS_MONTHS', 'OS_STATUS')\n    GROUP BY patient_unique_id\n)\n-- Combine groups with survival data\nSELECT \n    pg.mutation_group,\n    pg.patient_unique_id,\n    sd.os_months,\n    sd.os_status\nFROM patient_groups pg\nLEFT JOIN survival_data sd ON pg.patient_unique_id = sd.patient_unique_id\nWHERE sd.os_months IS NOT NULL AND sd.os_status IS NOT NULL\nORDER BY pg.mutation_group, pg.patient_unique_id\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO10172","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO217850","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO218139","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO218180","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO220176","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO220912","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO221539","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO221540","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO221541","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO221542","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO221543","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO221544","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO221545","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO221546","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO221547","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO23610","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO23648","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO23687","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO24467","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO24729","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO25444","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO25985","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO26653","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO27067","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO32831","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO32833","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO32837","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO32860","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO32863","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO32875","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO32878","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO32893","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO32900","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO32916","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO32960","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO32972","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO32984","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33000","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33008","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33028","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33032","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33042","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33128","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33152","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33160","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33168","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33184","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33200","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33208","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33248","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33264","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33288","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33344","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33368","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33376","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33392","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33400","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33408","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33472","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33480","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33512","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33544","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33552","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33960","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO33984","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34264","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34288","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34312","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34336","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34448","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34600","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34608","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34616","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34640","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34656","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34680","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34696","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34720","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34728","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34736","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34785","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34793","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34809","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34817","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34849","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO34905","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35082","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35085","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35098","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35116","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35118","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35126","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35128","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35132","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35136","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35144","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35148","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35152","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35184","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35186","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35198","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35200","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35216","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35222","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35228","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35230","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35236","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35258","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35290","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35305","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35350","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35360","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35376","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35406","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35424","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35454","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO35496","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO36080","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO36115","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO36254","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO36386","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO36556","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO36572","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO36619","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO36822","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO36945","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO36969","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO37138","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO37259","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO37474","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO38380","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO38603","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO38663","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO42209","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO42400","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO43314","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO44087","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO44088","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO44089","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO44091","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO44092","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO44094","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO45251","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO45297","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO46586","os_months":"33.51973684","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO47255","os_months":"0","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO48552","os_months":"0","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO48692","os_months":"29.60526316","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49074","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49078","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49079","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49080","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49113","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49127","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49129","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49135","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49137","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49138","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49166","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49168","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49172","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49178","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49181","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49183","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49184","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49193","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49204","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49419","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49420","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49422","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49424","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49427","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49433","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49436","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49439","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49445","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49448","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49451","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49454","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49457","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49460","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49463","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49466","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49478","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49481","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49484","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO49954","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO50307","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO50365","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO50396","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO50451","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO50453","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51466","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51467","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51468","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51469","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51470","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51472","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51473","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51474","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51477","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51478","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51480","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51481","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51483","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51484","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51485","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51486","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51488","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51490","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51492","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51493","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51494","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51495","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51496","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51497","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51498","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51499","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51500","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51501","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51504","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51505","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51506","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51507","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51509","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51510","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51511","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51512","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51513","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51514","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51515","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51518","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51519","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51520","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51522","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51523","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51524","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51525","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51527","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51528","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51529","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51530","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51531","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51532","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51533","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51534","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51535","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51536","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51537","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51538","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51540","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51541","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51542","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51543","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51544","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51546","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51548","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51549","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO51600","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO6474","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO7801","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO7858","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO7990","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO8004","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO8360","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO8658","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO8730","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO8898","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO9074","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO9226","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO9788","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO9876","os_status":"1:DECEASED"}]}
```


I notice that most patients don't have OS_MONTHS data. Let me get a summary with complete data:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nWITH \n-- Get patients with TP53 mutations\ntp53_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'TP53'\n      AND variant_type = 'mutation'\n),\n-- Get patients with KRAS mutations\nkras_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'KRAS'\n      AND variant_type = 'mutation'\n),\n-- Classify patients into groups\npatient_groups AS (\n    SELECT \n        k.patient_unique_id,\n        CASE \n            WHEN t.patient_unique_id IS NOT NULL THEN 'Both_TP53_KRAS'\n            ELSE 'KRAS_only'\n        END AS mutation_group\n    FROM kras_patients k\n    LEFT JOIN tp53_patients t ON k.patient_unique_id = t.patient_unique_id\n),\n-- Get survival data\nsurvival_data AS (\n    SELECT \n        patient_unique_id,\n        MAX(CASE WHEN attribute_name = 'OS_MONTHS' THEN attribute_value END) AS os_months,\n        MAX(CASE WHEN attribute_name = 'OS_STATUS' THEN attribute_value END) AS os_status\n    FROM clinical_data_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND attribute_name IN ('OS_MONTHS', 'OS_STATUS')\n    GROUP BY patient_unique_id\n)\n-- Combine and get summary statistics\nSELECT \n    pg.mutation_group,\n    COUNT(*) AS total_patients,\n    COUNT(CASE WHEN sd.os_months != '' AND sd.os_months IS NOT NULL THEN 1 END) AS patients_with_os_months,\n    COUNT(CASE WHEN sd.os_status LIKE '%DECEASED%' THEN 1 END) AS deceased_patients,\n    COUNT(CASE WHEN sd.os_status LIKE '%LIVING%' THEN 1 END) AS living_patients,\n    AVG(CASE WHEN sd.os_months != '' AND sd.os_months IS NOT NULL THEN toFloat64(sd.os_months) END) AS mean_os_months,\n    median(CASE WHEN sd.os_months != '' AND sd.os_months IS NOT NULL THEN toFloat64(sd.os_months) END) AS median_os_months\nFROM patient_groups pg\nLEFT JOIN survival_data sd ON pg.patient_unique_id = sd.patient_unique_id\nGROUP BY pg.mutation_group\nORDER BY pg.mutation_group\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"mutation_group":"Both_TP53_KRAS","total_patients":272,"patients_with_os_months":4,"deceased_patients":163,"living_patients":109,"mean_os_months":15.78125,"median_os_months":14.80263158}]}
```


I see there's only one group returned. Let me check if there are any KRAS-only patients:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nWITH \n-- Get patients with TP53 mutations\ntp53_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'TP53'\n      AND variant_type = 'mutation'\n),\n-- Get patients with KRAS mutations\nkras_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'KRAS'\n      AND variant_type = 'mutation'\n)\nSELECT \n    COUNT(DISTINCT k.patient_unique_id) AS total_kras_patients,\n    COUNT(DISTINCT CASE WHEN t.patient_unique_id IS NOT NULL THEN k.patient_unique_id END) AS kras_with_tp53,\n    COUNT(DISTINCT CASE WHEN t.patient_unique_id IS NULL THEN k.patient_unique_id END) AS kras_only\nFROM kras_patients k\nLEFT JOIN tp53_patients t ON k.patient_unique_id = t.patient_unique_id\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"total_kras_patients":272,"kras_with_tp53":272,"kras_only":0}]}
```


Interesting! All 272 patients with KRAS mutations also have TP53 mutations. This means there are no patients with KRAS-only mutations in this study. Let me verify this and check the overall mutation patterns:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nSELECT \n    hugo_gene_symbol,\n    COUNT(DISTINCT patient_unique_id) AS patient_count\nFROM genomic_event_derived\nWHERE cancer_study_identifier = 'pancan_pcawg_2020'\n  AND hugo_gene_symbol IN ('TP53', 'KRAS')\n  AND variant_type = 'mutation'\nGROUP BY hugo_gene_symbol\nORDER BY patient_count DESC\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"hugo_gene_symbol":"TP53","patient_count":892},{"hugo_gene_symbol":"KRAS","patient_count":272}]}
```


So we have:
- 892 patients with TP53 mutations
- 272 patients with KRAS mutations
- All 272 KRAS patients also have TP53 mutations

Let me verify this finding by checking a few specific patients:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Get a sample of KRAS patients and check their TP53 status\nWITH kras_sample AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'KRAS'\n      AND variant_type = 'mutation'\n    LIMIT 10\n)\nSELECT \n    ks.patient_unique_id,\n    COUNT(DISTINCT CASE WHEN g.hugo_gene_symbol = 'KRAS' THEN 1 END) AS has_kras,\n    COUNT(DISTINCT CASE WHEN g.hugo_gene_symbol = 'TP53' THEN 1 END) AS has_tp53\nFROM kras_sample ks\nLEFT JOIN genomic_event_derived g \n    ON ks.patient_unique_id = g.patient_unique_id \n    AND g.cancer_study_identifier = 'pancan_pcawg_2020'\n    AND g.hugo_gene_symbol IN ('KRAS', 'TP53')\n    AND g.variant_type = 'mutation'\nGROUP BY ks.patient_unique_id\nORDER BY ks.patient_unique_id\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"patient_unique_id":"pancan_pcawg_2020_DO46586","has_kras":1,"has_tp53":1},{"patient_unique_id":"pancan_pcawg_2020_DO47255","has_kras":1,"has_tp53":0},{"patient_unique_id":"pancan_pcawg_2020_DO48552","has_kras":1,"has_tp53":0},{"patient_unique_id":"pancan_pcawg_2020_DO48692","has_kras":1,"has_tp53":0},{"patient_unique_id":"pancan_pcawg_2020_DO49074","has_kras":1,"has_tp53":1},{"patient_unique_id":"pancan_pcawg_2020_DO49078","has_kras":1,"has_tp53":1},{"patient_unique_id":"pancan_pcawg_2020_DO49079","has_kras":1,"has_tp53":1},{"patient_unique_id":"pancan_pcawg_2020_DO49080","has_kras":1,"has_tp53":1},{"patient_unique_id":"pancan_pcawg_2020_DO49113","has_kras":1,"has_tp53":1},{"patient_unique_id":"pancan_pcawg_2020_DO49127","has_kras":1,"has_tp53":1}]}
```


Good! Now I can see there ARE patients with KRAS-only mutations. Let me rerun the analysis properly:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nWITH \n-- Get patients with TP53 mutations\ntp53_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'TP53'\n      AND variant_type = 'mutation'\n),\n-- Get patients with KRAS mutations\nkras_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'KRAS'\n      AND variant_type = 'mutation'\n),\n-- Classify patients into groups\npatient_groups AS (\n    SELECT \n        k.patient_unique_id,\n        CASE \n            WHEN t.patient_unique_id IS NOT NULL THEN 'Both_TP53_KRAS'\n            ELSE 'KRAS_only'\n        END AS mutation_group\n    FROM kras_patients k\n    LEFT JOIN tp53_patients t ON k.patient_unique_id = t.patient_unique_id\n),\n-- Get survival data\nsurvival_data AS (\n    SELECT \n        patient_unique_id,\n        MAX(CASE WHEN attribute_name = 'OS_MONTHS' THEN attribute_value END) AS os_months,\n        MAX(CASE WHEN attribute_name = 'OS_STATUS' THEN attribute_value END) AS os_status\n    FROM clinical_data_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND attribute_name IN ('OS_MONTHS', 'OS_STATUS')\n    GROUP BY patient_unique_id\n)\n-- Get detailed patient list\nSELECT \n    pg.mutation_group,\n    pg.patient_unique_id,\n    sd.os_months,\n    sd.os_status\nFROM patient_groups pg\nLEFT JOIN survival_data sd ON pg.patient_unique_id = sd.patient_unique_id\nORDER BY pg.mutation_group, pg.patient_unique_id\nLIMIT 20\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO10172","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO217850","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO218139","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO218180","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO220176","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO220912","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO221539","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO221540","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO221541","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO221542","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO221543","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO221544","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO221545","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO221546","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO221547","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO23610","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO23648","os_status":"0:LIVING"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO23687","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO24467","os_status":"1:DECEASED"},{"mutation_group":"Both_TP53_KRAS","patient_unique_id":"pancan_pcawg_2020_DO24729","os_status":"1:DECEASED"}]}
```


Let me check the count again more carefully:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nWITH \n-- Get patients with TP53 mutations\ntp53_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'TP53'\n      AND variant_type = 'mutation'\n),\n-- Get patients with KRAS mutations\nkras_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'KRAS'\n      AND variant_type = 'mutation'\n),\n-- Classify patients into groups\npatient_groups AS (\n    SELECT \n        k.patient_unique_id,\n        CASE \n            WHEN t.patient_unique_id IS NOT NULL THEN 'Both_TP53_KRAS'\n            ELSE 'KRAS_only'\n        END AS mutation_group\n    FROM kras_patients k\n    LEFT JOIN tp53_patients t ON k.patient_unique_id = t.patient_unique_id\n)\nSELECT \n    mutation_group,\n    COUNT(*) AS patient_count\nFROM patient_groups\nGROUP BY mutation_group\nORDER BY mutation_group\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"mutation_group":"Both_TP53_KRAS","patient_count":272}]}
```


This is puzzling. Let me check those specific patients I saw earlier with has_tp53=0:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nSELECT \n    patient_unique_id,\n    hugo_gene_symbol,\n    COUNT(*) AS mutation_count\nFROM genomic_event_derived\nWHERE cancer_study_identifier = 'pancan_pcawg_2020'\n  AND patient_unique_id IN ('pancan_pcawg_2020_DO47255', 'pancan_pcawg_2020_DO48552', 'pancan_pcawg_2020_DO48692')\n  AND hugo_gene_symbol IN ('KRAS', 'TP53')\n  AND variant_type = 'mutation'\nGROUP BY patient_unique_id, hugo_gene_symbol\nORDER BY patient_unique_id, hugo_gene_symbol\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"patient_unique_id":"pancan_pcawg_2020_DO47255","hugo_gene_symbol":"KRAS","mutation_count":2},{"patient_unique_id":"pancan_pcawg_2020_DO48552","hugo_gene_symbol":"KRAS","mutation_count":1},{"patient_unique_id":"pancan_pcawg_2020_DO48692","hugo_gene_symbol":"KRAS","mutation_count":1}]}
```


Perfect! So these patients DO have KRAS-only mutations (no TP53). The issue with my earlier query was the COUNT(DISTINCT CASE...) logic. Let me now get the proper survival analysis:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nWITH \n-- Get all KRAS patients\nkras_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'KRAS'\n      AND variant_type = 'mutation'\n),\n-- Get all TP53 patients\ntp53_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'TP53'\n      AND variant_type = 'mutation'\n),\n-- Classify KRAS patients\npatient_groups AS (\n    SELECT \n        k.patient_unique_id,\n        CASE \n            WHEN t.patient_unique_id IS NOT NULL THEN 'Both_TP53_KRAS'\n            ELSE 'KRAS_only'\n        END AS mutation_group\n    FROM kras_patients k\n    LEFT JOIN tp53_patients t ON k.patient_unique_id = t.patient_unique_id\n),\n-- Get survival data\nsurvival_data AS (\n    SELECT \n        patient_unique_id,\n        MAX(CASE WHEN attribute_name = 'OS_MONTHS' THEN attribute_value END) AS os_months,\n        MAX(CASE WHEN attribute_name = 'OS_STATUS' THEN attribute_value END) AS os_status\n    FROM clinical_data_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND attribute_name IN ('OS_MONTHS', 'OS_STATUS')\n    GROUP BY patient_unique_id\n),\n-- Combine data\ncombined_data AS (\n    SELECT \n        pg.mutation_group,\n        pg.patient_unique_id,\n        sd.os_months,\n        sd.os_status,\n        CASE WHEN sd.os_status LIKE '%DECEASED%' THEN 1 ELSE 0 END AS is_deceased\n    FROM patient_groups pg\n    LEFT JOIN survival_data sd ON pg.patient_unique_id = sd.patient_unique_id\n)\n-- Summary statistics\nSELECT \n    mutation_group,\n    COUNT(*) AS total_patients,\n    SUM(CASE WHEN os_months != '' AND os_months IS NOT NULL THEN 1 ELSE 0 END) AS patients_with_os_data,\n    SUM(is_deceased) AS deceased_count,\n    SUM(CASE WHEN is_deceased = 0 THEN 1 ELSE 0 END) AS living_count,\n    AVG(CASE WHEN os_months != '' AND os_months IS NOT NULL THEN toFloat64OrNull(os_months) END) AS mean_os_months,\n    median(CASE WHEN os_months != '' AND os_months IS NOT NULL THEN toFloat64OrNull(os_months) END) AS median_os_months,\n    quantile(0.25)(CASE WHEN os_months != '' AND os_months IS NOT NULL THEN toFloat64OrNull(os_months) END) AS q1_os_months,\n    quantile(0.75)(CASE WHEN os_months != '' AND os_months IS NOT NULL THEN toFloat64OrNull(os_months) END) AS q3_os_months\nFROM combined_data\nGROUP BY mutation_group\nORDER BY mutation_group\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"mutation_group":"Both_TP53_KRAS","total_patients":272,"patients_with_os_data":4,"deceased_count":163,"living_count":109,"mean_os_months":15.78125,"median_os_months":14.80263158,"q1_os_months":0.0,"q3_os_months":30.583881580000003}]}
```


I'm still only getting one group. Let me debug this more carefully by checking the actual patient IDs:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- First, let's see all KRAS patients\nWITH kras_list AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'KRAS'\n      AND variant_type = 'mutation'\n),\ntp53_list AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'TP53'\n      AND variant_type = 'mutation'\n)\nSELECT \n    'Total KRAS patients' AS category,\n    COUNT(*) AS count\nFROM kras_list\nUNION ALL\nSELECT \n    'KRAS patients also in TP53 list' AS category,\n    COUNT(*) AS count\nFROM kras_list k\nINNER JOIN tp53_list t ON k.patient_unique_id = t.patient_unique_id\nUNION ALL\nSELECT \n    'KRAS patients NOT in TP53 list' AS category,\n    COUNT(*) AS count\nFROM kras_list k\nLEFT JOIN tp53_list t ON k.patient_unique_id = t.patient_unique_id\nWHERE t.patient_unique_id IS NULL\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"category":"Total KRAS patients","count":272},{"category":"KRAS patients NOT in TP53 list","count":0},{"category":"KRAS patients also in TP53 list","count":187}]}
```


Interesting! So there are 187 patients with both mutations, but 272 total KRAS patients, and 0 KRAS-only patients according to this query. But I saw earlier that patients DO47255, DO48552, and DO48692 have KRAS but not TP53. Let me check if they're being counted as KRAS patients:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nSELECT \n    patient_unique_id,\n    hugo_gene_symbol,\n    variant_type,\n    COUNT(*) AS count\nFROM genomic_event_derived\nWHERE cancer_study_identifier = 'pancan_pcawg_2020'\n  AND patient_unique_id = 'pancan_pcawg_2020_DO47255'\n  AND hugo_gene_symbol IN ('KRAS', 'TP53')\nGROUP BY patient_unique_id, hugo_gene_symbol, variant_type\nORDER BY hugo_gene_symbol\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"patient_unique_id":"pancan_pcawg_2020_DO47255","hugo_gene_symbol":"KRAS","variant_type":"mutation","count":2}]}
```




Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Check if this patient is in the KRAS list\nWITH kras_list AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'KRAS'\n      AND variant_type = 'mutation'\n)\nSELECT \n    CASE \n        WHEN patient_unique_id IS NOT NULL THEN 'YES - in KRAS list'\n        ELSE 'NO - not in KRAS list'\n    END AS status\nFROM kras_list\nWHERE patient_unique_id = 'pancan_pcawg_2020_DO47255'\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"status":"YES - in KRAS list"}]}
```




Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Check if this patient is in the TP53 list\nWITH tp53_list AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'TP53'\n      AND variant_type = 'mutation'\n)\nSELECT \n    COUNT(*) AS count\nFROM tp53_list\nWHERE patient_unique_id = 'pancan_pcawg_2020_DO47255'\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"count":0}]}
```


Perfect! So DO47255 is in KRAS list but NOT in TP53 list. Let me try a simpler approach to count the groups:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nWITH \nkras_list AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'KRAS'\n      AND variant_type = 'mutation'\n),\ntp53_list AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'TP53'\n      AND variant_type = 'mutation'\n),\npatient_classification AS (\n    SELECT \n        k.patient_unique_id,\n        CASE \n            WHEN t.patient_unique_id IS NOT NULL THEN 'Both'\n            ELSE 'KRAS_only'\n        END AS group_name\n    FROM kras_list k\n    LEFT JOIN tp53_list t ON k.patient_unique_id = t.patient_unique_id\n)\nSELECT \n    group_name,\n    COUNT(*) AS patient_count,\n    groupArray(patient_unique_id) AS sample_patients\nFROM patient_classification\nGROUP BY group_name\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"group_name":"Both","patient_count":272,"sample_patients":["pancan_pcawg_2020_DO46586","pancan_pcawg_2020_DO47255","pancan_pcawg_2020_DO48552","pancan_pcawg_2020_DO48692","pancan_pcawg_2020_DO49074","pancan_pcawg_2020_DO49078","pancan_pcawg_2020_DO49079","pancan_pcawg_2020_DO49080","pancan_pcawg_2020_DO49113","pancan_pcawg_2020_DO49127","pancan_pcawg_2020_DO49129","pancan_pcawg_2020_DO49135","pancan_pcawg_2020_DO49137","pancan_pcawg_2020_DO49138","pancan_pcawg_2020_DO49166","pancan_pcawg_2020_DO49168","pancan_pcawg_2020_DO49172","pancan_pcawg_2020_DO49178","pancan_pcawg_2020_DO49181","pancan_pcawg_2020_DO49183","pancan_pcawg_2020_DO49184","pancan_pcawg_2020_DO49193","pancan_pcawg_2020_DO49204","pancan_pcawg_2020_DO49954","pancan_pcawg_2020_DO32860","pancan_pcawg_2020_DO33168","pancan_pcawg_2020_DO34680","pancan_pcawg_2020_DO34336","pancan_pcawg_2020_DO34720","pancan_pcawg_2020_DO34640","pancan_pcawg_2020_DO34728","pancan_pcawg_2020_DO50307","pancan_pcawg_2020_DO50453","pancan_pcawg_2020_DO50451","pancan_pcawg_2020_DO50365","pancan_pcawg_2020_DO50396","pancan_pcawg_2020_DO51600","pancan_pcawg_2020_DO6474","pancan_pcawg_2020_DO51494","pancan_pcawg_2020_DO49460","pancan_pcawg_2020_DO35098","pancan_pcawg_2020_DO51493","pancan_pcawg_2020_DO51506","pancan_pcawg_2020_DO49439","pancan_pcawg_2020_DO49484","pancan_pcawg_2020_DO217850","pancan_pcawg_2020_DO51505","pancan_pcawg_2020_DO49445","pancan_pcawg_2020_DO51513","pancan_pcawg_2020_DO49422","pancan_pcawg_2020_DO35424","pancan_pcawg_2020_DO49424","pancan_pcawg_2020_DO51473","pancan_pcawg_2020_DO35258","pancan_pcawg_2020_DO49420","pancan_pcawg_2020_DO49463","pancan_pcawg_2020_DO49451","pancan_pcawg_2020_DO49466","pancan_pcawg_2020_DO35082","pancan_pcawg_2020_DO218139","pancan_pcawg_2020_DO51469","pancan_pcawg_2020_DO51492","pancan_pcawg_2020_DO218180","pancan_pcawg_2020_DO51511","pancan_pcawg_2020_DO35305","pancan_pcawg_2020_DO49478","pancan_pcawg_2020_DO35126","pancan_pcawg_2020_DO51485","pancan_pcawg_2020_DO49454","pancan_pcawg_2020_DO35236","pancan_pcawg_2020_DO35350","pancan_pcawg_2020_DO51546","pancan_pcawg_2020_DO51509","pancan_pcawg_2020_DO49481","pancan_pcawg_2020_DO51495","pancan_pcawg_2020_DO51468","pancan_pcawg_2020_DO51483","pancan_pcawg_2020_DO49427","pancan_pcawg_2020_DO51540","pancan_pcawg_2020_DO49457","pancan_pcawg_2020_DO51507","pancan_pcawg_2020_DO35144","pancan_pcawg_2020_DO35128","pancan_pcawg_2020_DO49436","pancan_pcawg_2020_DO51514","pancan_pcawg_2020_DO51544","pancan_pcawg_2020_DO51496","pancan_pcawg_2020_DO51518","pancan_pcawg_2020_DO220176","pancan_pcawg_2020_DO220912","pancan_pcawg_2020_DO51472","pancan_pcawg_2020_DO51528","pancan_pcawg_2020_DO51520","pancan_pcawg_2020_DO51478","pancan_pcawg_2020_DO51490","pancan_pcawg_2020_DO35496","pancan_pcawg_2020_DO51467","pancan_pcawg_2020_DO51530","pancan_pcawg_2020_DO35290","pancan_pcawg_2020_DO221539","pancan_pcawg_2020_DO35406","pancan_pcawg_2020_DO51542","pancan_pcawg_2020_DO51510","pancan_pcawg_2020_DO51484","pancan_pcawg_2020_DO51538","pancan_pcawg_2020_DO51497","pancan_pcawg_2020_DO221541","pancan_pcawg_2020_DO51488","pancan_pcawg_2020_DO51470","pancan_pcawg_2020_DO35376","pancan_pcawg_2020_DO221543","pancan_pcawg_2020_DO35136","pancan_pcawg_2020_DO51524","pancan_pcawg_2020_DO51537","pancan_pcawg_2020_DO51523","pancan_pcawg_2020_DO51501","pancan_pcawg_2020_DO51499","pancan_pcawg_2020_DO51541","pancan_pcawg_2020_DO51531","pancan_pcawg_2020_DO35360","pancan_pcawg_2020_DO51480","pancan_pcawg_2020_DO49433","pancan_pcawg_2020_DO51535","pancan_pcawg_2020_DO51500","pancan_pcawg_2020_DO35230","pancan_pcawg_2020_DO51515","pancan_pcawg_2020_DO35454","pancan_pcawg_2020_DO51466","pancan_pcawg_2020_DO51481","pancan_pcawg_2020_DO51512","pancan_pcawg_2020_DO51536","pancan_pcawg_2020_DO51527","pancan_pcawg_2020_DO49419","pancan_pcawg_2020_DO51549","pancan_pcawg_2020_DO51529","pancan_pcawg_2020_DO221542","pancan_pcawg_2020_DO51474","pancan_pcawg_2020_DO35116","pancan_pcawg_2020_DO35222","pancan_pcawg_2020_DO51477","pancan_pcawg_2020_DO35198","pancan_pcawg_2020_DO221547","pancan_pcawg_2020_DO221545","pancan_pcawg_2020_DO51543","pancan_pcawg_2020_DO35228","pancan_pcawg_2020_DO51504","pancan_pcawg_2020_DO221546","pancan_pcawg_2020_DO51522","pancan_pcawg_2020_DO51486","pancan_pcawg_2020_DO51498","pancan_pcawg_2020_DO51525","pancan_pcawg_2020_DO51534","pancan_pcawg_2020_DO51519","pancan_pcawg_2020_DO51532","pancan_pcawg_2020_DO221544","pancan_pcawg_2020_DO49448","pancan_pcawg_2020_DO221540","pancan_pcawg_2020_DO51548","pancan_pcawg_2020_DO51533","pancan_pcawg_2020_DO7801","pancan_pcawg_2020_DO7858","pancan_pcawg_2020_DO7990","pancan_pcawg_2020_DO8004","pancan_pcawg_2020_DO8360","pancan_pcawg_2020_DO8658","pancan_pcawg_2020_DO8730","pancan_pcawg_2020_DO8898","pancan_pcawg_2020_DO9074","pancan_pcawg_2020_DO9226","pancan_pcawg_2020_DO9788","pancan_pcawg_2020_DO9876","pancan_pcawg_2020_DO10172","pancan_pcawg_2020_DO23610","pancan_pcawg_2020_DO23648","pancan_pcawg_2020_DO23687","pancan_pcawg_2020_DO24467","pancan_pcawg_2020_DO24729","pancan_pcawg_2020_DO25444","pancan_pcawg_2020_DO25985","pancan_pcawg_2020_DO26653","pancan_pcawg_2020_DO27067","pancan_pcawg_2020_DO32831","pancan_pcawg_2020_DO32833","pancan_pcawg_2020_DO32837","pancan_pcawg_2020_DO32863","pancan_pcawg_2020_DO32878","pancan_pcawg_2020_DO32893","pancan_pcawg_2020_DO32916","pancan_pcawg_2020_DO32960","pancan_pcawg_2020_DO32972","pancan_pcawg_2020_DO32984","pancan_pcawg_2020_DO33000","pancan_pcawg_2020_DO33008","pancan_pcawg_2020_DO33028","pancan_pcawg_2020_DO33032","pancan_pcawg_2020_DO33042","pancan_pcawg_2020_DO33128","pancan_pcawg_2020_DO33160","pancan_pcawg_2020_DO33152","pancan_pcawg_2020_DO33184","pancan_pcawg_2020_DO33200","pancan_pcawg_2020_DO33208","pancan_pcawg_2020_DO33248","pancan_pcawg_2020_DO33264","pancan_pcawg_2020_DO33288","pancan_pcawg_2020_DO33344","pancan_pcawg_2020_DO33368","pancan_pcawg_2020_DO33376","pancan_pcawg_2020_DO33392","pancan_pcawg_2020_DO33400","pancan_pcawg_2020_DO33408","pancan_pcawg_2020_DO33472","pancan_pcawg_2020_DO33480","pancan_pcawg_2020_DO33512","pancan_pcawg_2020_DO33544","pancan_pcawg_2020_DO33552","pancan_pcawg_2020_DO32875","pancan_pcawg_2020_DO33960","pancan_pcawg_2020_DO33984","pancan_pcawg_2020_DO34312","pancan_pcawg_2020_DO34448","pancan_pcawg_2020_DO34264","pancan_pcawg_2020_DO34600","pancan_pcawg_2020_DO34608","pancan_pcawg_2020_DO34288","pancan_pcawg_2020_DO34616","pancan_pcawg_2020_DO32900","pancan_pcawg_2020_DO34656","pancan_pcawg_2020_DO34696","pancan_pcawg_2020_DO34736","pancan_pcawg_2020_DO34785","pancan_pcawg_2020_DO34793","pancan_pcawg_2020_DO34809","pancan_pcawg_2020_DO34817","pancan_pcawg_2020_DO34849","pancan_pcawg_2020_DO34905","pancan_pcawg_2020_DO35132","pancan_pcawg_2020_DO35148","pancan_pcawg_2020_DO35184","pancan_pcawg_2020_DO35118","pancan_pcawg_2020_DO35186","pancan_pcawg_2020_DO35200","pancan_pcawg_2020_DO35152","pancan_pcawg_2020_DO35216","pancan_pcawg_2020_DO35085","pancan_pcawg_2020_DO36080","pancan_pcawg_2020_DO36115","pancan_pcawg_2020_DO36254","pancan_pcawg_2020_DO36386","pancan_pcawg_2020_DO36556","pancan_pcawg_2020_DO36572","pancan_pcawg_2020_DO36619","pancan_pcawg_2020_DO36822","pancan_pcawg_2020_DO36945","pancan_pcawg_2020_DO36969","pancan_pcawg_2020_DO37138","pancan_pcawg_2020_DO37259","pancan_pcawg_2020_DO37474","pancan_pcawg_2020_DO38380","pancan_pcawg_2020_DO38603","pancan_pcawg_2020_DO38663","pancan_pcawg_2020_DO42209","pancan_pcawg_2020_DO42400","pancan_pcawg_2020_DO43314","pancan_pcawg_2020_DO44087","pancan_pcawg_2020_DO44088","pancan_pcawg_2020_DO44089","pancan_pcawg_2020_DO44091","pancan_pcawg_2020_DO44092","pancan_pcawg_2020_DO44094","pancan_pcawg_2020_DO45251","pancan_pcawg_2020_DO45297"]}]}
```


This is very strange - it's classifying DO47255, DO48552, and DO48692 as "Both" even though they don't have TP53 mutations. Let me check the TP53 list directly:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nSELECT patient_unique_id\nFROM genomic_event_derived\nWHERE cancer_study_identifier = 'pancan_pcawg_2020'\n  AND hugo_gene_symbol = 'TP53'\n  AND variant_type = 'mutation'\n  AND patient_unique_id IN ('pancan_pcawg_2020_DO47255', 'pancan_pcawg_2020_DO48552', 'pancan_pcawg_2020_DO48692')\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[]}
```


So they definitely don't have TP53 mutations. There must be an issue with the LEFT JOIN. Let me try a different approach using NOT EXISTS:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nWITH \nkras_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'KRAS'\n      AND variant_type = 'mutation'\n)\nSELECT \n    k.patient_unique_id,\n    CASE \n        WHEN EXISTS (\n            SELECT 1 \n            FROM genomic_event_derived g\n            WHERE g.cancer_study_identifier = 'pancan_pcawg_2020'\n              AND g.hugo_gene_symbol = 'TP53'\n              AND g.variant_type = 'mutation'\n              AND g.patient_unique_id = k.patient_unique_id\n        ) THEN 'Both_TP53_KRAS'\n        ELSE 'KRAS_only'\n    END AS mutation_group\nFROM kras_patients k\nWHERE k.patient_unique_id IN ('pancan_pcawg_2020_DO47255', 'pancan_pcawg_2020_DO48552', 'pancan_pcawg_2020_DO48692', 'pancan_pcawg_2020_DO46586')\nORDER BY k.patient_unique_id\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"error_message":"Query execution failed: Received ClickHouse exception, code: 1, server response: Code: 1. DB::Exception: Resolved identifier 'k.patient_unique_id' in parent scope to expression 'k.patient_unique_id' with correlated columns 'patient_unique_id' (Enable 'allow_experimental_correlated_subqueries' setting to allow correlated subqueries execution). In scope (SELECT _CAST(1, 'UInt64') FROM (SELECT 1 FROM cgds_public_librechat_20251209.genomic_event_derived AS g WHERE (g.cancer_study_identifier = 'pancan_pcawg_2020') AND (g.hugo_gene_symbol = 'TP53') AND (g.variant_type = 'mutation') AND (g.patient_unique_id = k.patient_unique_id)) LIMIT _CAST(1, 'UInt64')). (UNSUPPORTED_METHOD) (version 25.8.1.36912 (official build)) (for url https://dl96orhu96.us-east-1.aws.clickhouse.cloud:8443)"}
```


Let me try using a subquery approach instead:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nWITH \nkras_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'KRAS'\n      AND variant_type = 'mutation'\n),\ntp53_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'TP53'\n      AND variant_type = 'mutation'\n),\npatient_classification AS (\n    SELECT \n        k.patient_unique_id,\n        multiIf(\n            t.patient_unique_id IS NOT NULL, 'Both_TP53_KRAS',\n            'KRAS_only'\n        ) AS mutation_group\n    FROM kras_patients k\n    LEFT JOIN tp53_patients t ON k.patient_unique_id = t.patient_unique_id\n)\nSELECT \n    patient_unique_id,\n    mutation_group\nFROM patient_classification\nWHERE patient_unique_id IN ('pancan_pcawg_2020_DO47255', 'pancan_pcawg_2020_DO48552', 'pancan_pcawg_2020_DO48692', 'pancan_pcawg_2020_DO46586')\nORDER BY patient_unique_id\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"patient_unique_id":"pancan_pcawg_2020_DO46586","mutation_group":"Both_TP53_KRAS"},{"patient_unique_id":"pancan_pcawg_2020_DO47255","mutation_group":"Both_TP53_KRAS"},{"patient_unique_id":"pancan_pcawg_2020_DO48552","mutation_group":"Both_TP53_KRAS"},{"patient_unique_id":"pancan_pcawg_2020_DO48692","mutation_group":"Both_TP53_KRAS"}]}
```


This is very puzzling. Let me check the tp53_patients CTE directly to see if these patients are somehow in there:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nWITH tp53_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'TP53'\n      AND variant_type = 'mutation'\n)\nSELECT patient_unique_id\nFROM tp53_patients\nWHERE patient_unique_id IN ('pancan_pcawg_2020_DO47255', 'pancan_pcawg_2020_DO48552', 'pancan_pcawg_2020_DO48692')\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[]}
```


They're not in the TP53 list. Let me check the LEFT JOIN more carefully by looking at the actual join result:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nWITH \nkras_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'KRAS'\n      AND variant_type = 'mutation'\n),\ntp53_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'TP53'\n      AND variant_type = 'mutation'\n)\nSELECT \n    k.patient_unique_id AS kras_patient,\n    t.patient_unique_id AS tp53_patient,\n    CASE WHEN t.patient_unique_id IS NULL THEN 'NULL' ELSE 'NOT NULL' END AS tp53_status\nFROM kras_patients k\nLEFT JOIN tp53_patients t ON k.patient_unique_id = t.patient_unique_id\nWHERE k.patient_unique_id IN ('pancan_pcawg_2020_DO47255', 'pancan_pcawg_2020_DO48552', 'pancan_pcawg_2020_DO48692', 'pancan_pcawg_2020_DO46586')\nORDER BY k.patient_unique_id\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"kras_patient":"pancan_pcawg_2020_DO46586","tp53_patient":"pancan_pcawg_2020_DO46586","tp53_status":"NOT NULL"},{"kras_patient":"pancan_pcawg_2020_DO47255","tp53_status":"NOT NULL"},{"kras_patient":"pancan_pcawg_2020_DO48552","tp53_status":"NOT NULL"},{"kras_patient":"pancan_pcawg_2020_DO48692","tp53_status":"NOT NULL"}]}
```


This is bizarre! The tp53_patient column is empty for DO47255, DO48552, and DO48692, but the tp53_status shows "NOT NULL". This suggests there's an issue with how ClickHouse is handling the IS NULL check. Let me try a different approach using an anti-join:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nWITH \nkras_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'KRAS'\n      AND variant_type = 'mutation'\n),\ntp53_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'TP53'\n      AND variant_type = 'mutation'\n)\nSELECT \n    k.patient_unique_id AS kras_patient,\n    t.patient_unique_id AS tp53_patient,\n    toString(t.patient_unique_id) AS tp53_as_string,\n    length(toString(t.patient_unique_id)) AS tp53_length,\n    empty(toString(t.patient_unique_id)) AS tp53_is_empty\nFROM kras_patients k\nLEFT JOIN tp53_patients t ON k.patient_unique_id = t.patient_unique_id\nWHERE k.patient_unique_id IN ('pancan_pcawg_2020_DO47255', 'pancan_pcawg_2020_DO48552', 'pancan_pcawg_2020_DO48692', 'pancan_pcawg_2020_DO46586')\nORDER BY k.patient_unique_id\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"kras_patient":"pancan_pcawg_2020_DO46586","tp53_patient":"pancan_pcawg_2020_DO46586","tp53_as_string":"pancan_pcawg_2020_DO46586","tp53_length":25,"tp53_is_empty":0},{"kras_patient":"pancan_pcawg_2020_DO47255","tp53_length":0,"tp53_is_empty":1},{"kras_patient":"pancan_pcawg_2020_DO48552","tp53_length":0,"tp53_is_empty":1},{"kras_patient":"pancan_pcawg_2020_DO48692","tp53_length":0,"tp53_is_empty":1}]}
```


Great! Now I can see that the tp53_patient field is actually empty (length 0) for those three patients. Let me use the `empty()` function instead of `IS NULL`:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nWITH \nkras_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'KRAS'\n      AND variant_type = 'mutation'\n),\ntp53_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'TP53'\n      AND variant_type = 'mutation'\n),\npatient_classification AS (\n    SELECT \n        k.patient_unique_id,\n        CASE \n            WHEN empty(toString(t.patient_unique_id)) THEN 'KRAS_only'\n            ELSE 'Both_TP53_KRAS'\n        END AS mutation_group\n    FROM kras_patients k\n    LEFT JOIN tp53_patients t ON k.patient_unique_id = t.patient_unique_id\n)\nSELECT \n    mutation_group,\n    COUNT(*) AS patient_count\nFROM patient_classification\nGROUP BY mutation_group\nORDER BY mutation_group\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"mutation_group":"Both_TP53_KRAS","patient_count":187},{"mutation_group":"KRAS_only","patient_count":85}]}
```


Excellent! Now I have the correct groups:
- 187 patients with both TP53 and KRAS mutations
- 85 patients with KRAS-only mutations

Now let me get the survival analysis for both groups:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nWITH \nkras_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'KRAS'\n      AND variant_type = 'mutation'\n),\ntp53_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'TP53'\n      AND variant_type = 'mutation'\n),\npatient_classification AS (\n    SELECT \n        k.patient_unique_id,\n        CASE \n            WHEN empty(toString(t.patient_unique_id)) THEN 'KRAS_only'\n            ELSE 'Both_TP53_KRAS'\n        END AS mutation_group\n    FROM kras_patients k\n    LEFT JOIN tp53_patients t ON k.patient_unique_id = t.patient_unique_id\n),\nsurvival_data AS (\n    SELECT \n        patient_unique_id,\n        MAX(CASE WHEN attribute_name = 'OS_MONTHS' THEN attribute_value END) AS os_months,\n        MAX(CASE WHEN attribute_name = 'OS_STATUS' THEN attribute_value END) AS os_status\n    FROM clinical_data_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND attribute_name IN ('OS_MONTHS', 'OS_STATUS')\n    GROUP BY patient_unique_id\n),\ncombined_data AS (\n    SELECT \n        pc.mutation_group,\n        pc.patient_unique_id,\n        sd.os_months,\n        sd.os_status,\n        CASE WHEN sd.os_status LIKE '%DECEASED%' THEN 1 ELSE 0 END AS is_deceased,\n        CASE WHEN sd.os_months != '' AND sd.os_months IS NOT NULL AND sd.os_months != '0' THEN toFloat64OrNull(sd.os_months) ELSE NULL END AS os_months_numeric\n    FROM patient_classification pc\n    LEFT JOIN survival_data sd ON pc.patient_unique_id = sd.patient_unique_id\n)\nSELECT \n    mutation_group,\n    COUNT(*) AS total_patients,\n    SUM(CASE WHEN os_months_numeric IS NOT NULL THEN 1 ELSE 0 END) AS patients_with_os_data,\n    SUM(is_deceased) AS deceased_count,\n    SUM(CASE WHEN is_deceased = 0 AND os_status IS NOT NULL THEN 1 ELSE 0 END) AS living_count,\n    AVG(os_months_numeric) AS mean_os_months,\n    median(os_months_numeric) AS median_os_months,\n    quantile(0.25)(os_months_numeric) AS q1_os_months,\n    quantile(0.75)(os_months_numeric) AS q3_os_months,\n    min(os_months_numeric) AS min_os_months,\n    max(os_months_numeric) AS max_os_months\nFROM combined_data\nGROUP BY mutation_group\nORDER BY mutation_group\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"mutation_group":"Both_TP53_KRAS","total_patients":187,"patients_with_os_data":1,"deceased_count":122,"living_count":65,"mean_os_months":33.51973684,"median_os_months":33.51973684,"q1_os_months":33.51973684,"q3_os_months":33.51973684,"min_os_months":33.51973684,"max_os_months":33.51973684},{"mutation_group":"KRAS_only","total_patients":85,"patients_with_os_data":1,"deceased_count":41,"living_count":44,"mean_os_months":29.60526316,"median_os_months":29.60526316,"q1_os_months":29.60526316,"q3_os_months":29.60526316,"min_os_months":29.60526316,"max_os_months":29.60526316}]}
```


I see that very few patients have OS_MONTHS data (only 1 in each group). Let me check what survival data is actually available:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nSELECT \n    attribute_name,\n    COUNT(DISTINCT patient_unique_id) AS patient_count,\n    COUNT(*) AS total_records,\n    groupArray(attribute_value)[1:5] AS sample_values\nFROM clinical_data_derived\nWHERE cancer_study_identifier = 'pancan_pcawg_2020'\n  AND (attribute_name LIKE '%OS%' OR attribute_name LIKE '%SURV%' OR attribute_name LIKE '%DEATH%' OR attribute_name LIKE '%VITAL%')\nGROUP BY attribute_name\nORDER BY patient_count DESC\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"error_message":"Query execution failed: Received ClickHouse exception, code: 62, server response: Code: 62. DB::Exception: Syntax error: failed at position 154 (AS) (line 6, col 38): AS sample_values\nFROM clinical_data_derived\nWHERE cancer_study_identifier = 'pancan_pcawg_2020'\n  AND (attribute_name LIKE '%OS%' OR attribute_name LIKE '%SURV%' O... Expected end of query. (SYNTAX_ERROR) (version 25.8.1.36912 (official build)) (for url https://dl96orhu96.us-east-1.aws.clickhouse.cloud:8443)"}
```




Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nSELECT \n    attribute_name,\n    COUNT(DISTINCT patient_unique_id) AS patient_count,\n    COUNT(*) AS total_records\nFROM clinical_data_derived\nWHERE cancer_study_identifier = 'pancan_pcawg_2020'\n  AND (attribute_name LIKE '%OS%' OR attribute_name LIKE '%SURV%' OR attribute_name LIKE '%DEATH%' OR attribute_name LIKE '%VITAL%')\nGROUP BY attribute_name\nORDER BY patient_count DESC\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"attribute_name":"OS_STATUS","patient_count":2658,"total_records":2658},{"attribute_name":"OS_MONTHS","patient_count":2658,"total_records":2658}]}
```


Good! So OS_MONTHS and OS_STATUS are available for 2,658 patients. Let me check why my query is only finding 1 patient with OS_MONTHS data. Let me look at some sample values:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nSELECT \n    patient_unique_id,\n    attribute_name,\n    attribute_value,\n    length(attribute_value) AS value_length,\n    attribute_value = '' AS is_empty,\n    attribute_value = '0' AS is_zero\nFROM clinical_data_derived\nWHERE cancer_study_identifier = 'pancan_pcawg_2020'\n  AND attribute_name = 'OS_MONTHS'\n  AND patient_unique_id IN (\n      SELECT DISTINCT patient_unique_id\n      FROM genomic_event_derived\n      WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n        AND hugo_gene_symbol = 'KRAS'\n        AND variant_type = 'mutation'\n      LIMIT 10\n  )\nORDER BY patient_unique_id\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"patient_unique_id":"pancan_pcawg_2020_DO46586","attribute_name":"OS_MONTHS","attribute_value":"33.51973684","value_length":11,"is_empty":0,"is_zero":0},{"patient_unique_id":"pancan_pcawg_2020_DO47255","attribute_name":"OS_MONTHS","attribute_value":"0","value_length":1,"is_empty":0,"is_zero":1},{"patient_unique_id":"pancan_pcawg_2020_DO48552","attribute_name":"OS_MONTHS","attribute_value":"0","value_length":1,"is_empty":0,"is_zero":1},{"patient_unique_id":"pancan_pcawg_2020_DO48692","attribute_name":"OS_MONTHS","attribute_value":"29.60526316","value_length":11,"is_empty":0,"is_zero":0},{"patient_unique_id":"pancan_pcawg_2020_DO49074","attribute_name":"OS_MONTHS","value_length":0,"is_empty":1,"is_zero":0},{"patient_unique_id":"pancan_pcawg_2020_DO49078","attribute_name":"OS_MONTHS","value_length":0,"is_empty":1,"is_zero":0},{"patient_unique_id":"pancan_pcawg_2020_DO49079","attribute_name":"OS_MONTHS","value_length":0,"is_empty":1,"is_zero":0},{"patient_unique_id":"pancan_pcawg_2020_DO49080","attribute_name":"OS_MONTHS","value_length":0,"is_empty":1,"is_zero":0},{"patient_unique_id":"pancan_pcawg_2020_DO49113","attribute_name":"OS_MONTHS","value_length":0,"is_empty":1,"is_zero":0},{"patient_unique_id":"pancan_pcawg_2020_DO49127","attribute_name":"OS_MONTHS","value_length":0,"is_empty":1,"is_zero":0}]}
```


I see! Many patients have empty OS_MONTHS values, and some have "0". Let me adjust my query to handle this properly:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nWITH \nkras_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'KRAS'\n      AND variant_type = 'mutation'\n),\ntp53_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'TP53'\n      AND variant_type = 'mutation'\n),\npatient_classification AS (\n    SELECT \n        k.patient_unique_id,\n        CASE \n            WHEN empty(toString(t.patient_unique_id)) THEN 'KRAS_only'\n            ELSE 'Both_TP53_KRAS'\n        END AS mutation_group\n    FROM kras_patients k\n    LEFT JOIN tp53_patients t ON k.patient_unique_id = t.patient_unique_id\n),\nsurvival_data AS (\n    SELECT \n        patient_unique_id,\n        MAX(CASE WHEN attribute_name = 'OS_MONTHS' THEN attribute_value END) AS os_months,\n        MAX(CASE WHEN attribute_name = 'OS_STATUS' THEN attribute_value END) AS os_status\n    FROM clinical_data_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND attribute_name IN ('OS_MONTHS', 'OS_STATUS')\n    GROUP BY patient_unique_id\n),\ncombined_data AS (\n    SELECT \n        pc.mutation_group,\n        pc.patient_unique_id,\n        sd.os_months,\n        sd.os_status,\n        CASE WHEN sd.os_status LIKE '%DECEASED%' THEN 1 ELSE 0 END AS is_deceased,\n        CASE \n            WHEN sd.os_months != '' AND sd.os_months IS NOT NULL \n            THEN toFloat64OrNull(sd.os_months) \n            ELSE NULL \n        END AS os_months_numeric\n    FROM patient_classification pc\n    LEFT JOIN survival_data sd ON pc.patient_unique_id = sd.patient_unique_id\n)\nSELECT \n    mutation_group,\n    COUNT(*) AS total_patients,\n    SUM(CASE WHEN os_months_numeric IS NOT NULL THEN 1 ELSE 0 END) AS patients_with_os_data,\n    SUM(CASE WHEN os_months_numeric IS NOT NULL AND os_months_numeric > 0 THEN 1 ELSE 0 END) AS patients_with_nonzero_os,\n    SUM(is_deceased) AS deceased_count,\n    SUM(CASE WHEN is_deceased = 0 AND os_status IS NOT NULL THEN 1 ELSE 0 END) AS living_count,\n    AVG(os_months_numeric) AS mean_os_months_all,\n    AVG(CASE WHEN os_months_numeric > 0 THEN os_months_numeric END) AS mean_os_months_nonzero,\n    median(os_months_numeric) AS median_os_months_all,\n    median(CASE WHEN os_months_numeric > 0 THEN os_months_numeric END) AS median_os_months_nonzero\nFROM combined_data\nGROUP BY mutation_group\nORDER BY mutation_group\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"mutation_group":"Both_TP53_KRAS","total_patients":187,"patients_with_os_data":1,"patients_with_nonzero_os":1,"deceased_count":122,"living_count":65,"mean_os_months_all":33.51973684,"mean_os_months_nonzero":33.51973684,"median_os_months_all":33.51973684,"median_os_months_nonzero":33.51973684},{"mutation_group":"KRAS_only","total_patients":85,"patients_with_os_data":3,"patients_with_nonzero_os":1,"deceased_count":41,"living_count":44,"mean_os_months_all":9.868421053333334,"mean_os_months_nonzero":29.60526316,"median_os_months_all":0.0,"median_os_months_nonzero":29.60526316}]}
```


The data is very sparse. Let me check how many KRAS patients actually have meaningful OS_MONTHS data:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\nWITH \nkras_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'pancan_pcawg_2020'\n      AND hugo_gene_symbol = 'KRAS'\n      AND variant_type = 'mutation'\n)\nSELECT \n    COUNT(*) AS total_kras_patients,\n    SUM(CASE WHEN cd.attribute_value != '' AND cd.attribute_value IS NOT NULL THEN 1 ELSE 0 END) AS with_os_months,\n    SUM(CASE WHEN cd.attribute_value != '' AND cd.attribute_value != '0' AND cd.attribute_value IS NOT NULL THEN 1 ELSE 0 END) AS with_nonzero_os_months\nFROM kras_patients k\nLEFT JOIN clinical_data_derived cd \n    ON k.patient_unique_id = cd.patient_unique_id \n    AND cd.cancer_study_identifier = 'pancan_pcawg_2020'\n    AND cd.attribute_name = 'OS_MONTHS'\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"total_kras_patients":272,"with_os_months":4,"with_nonzero_os_months":2}]}
```


Unfortunately, this study has very limited survival data for KRAS-mutated patients - only 4 out of 272 have OS_MONTHS data, and only 2 have non-zero values. This makes it impossible to perform a meaningful survival analysis.

Let me provide a summary of what we found and explain the limitation:

Based on my analysis of the **Pan-cancer analysis of whole genomes (ICGC/TCGA, Nature 2020)** study, I found the following:

## Patient Cohorts:
- **Both TP53 and KRAS mutations**: 187 patients
- **KRAS-only mutations**: 85 patients

## Survival Data Availability:
Unfortunately, this study has **extremely limited survival data** for patients with KRAS mutations:
- Only **4 out of 272** KRAS-mutated patients have OS_MONTHS (overall survival in months) data
- Of these, only **2 patients** have non-zero survival times

### Available Data:
**Both TP53 + KRAS group (187 patients)**:
- Patients with OS data: 1
- Mean OS: 33.5 months
- Deceased: 122 patients
- Living: 65 patients

**KRAS-only group (85 patients)**:
- Patients with OS data: 3 (but 2 have "0" months)
- Mean OS (non-zero): 29.6 months  
- Deceased: 41 patients
- Living: 44 patients

## Conclusion:
**I cannot provide a statistically valid survival analysis or p-value** because:
1. The sample size with actual survival time data is far too small (only 1-2 patients per group)
2. Most patients only have vital status (living/deceased) without survival time information
3. Statistical tests require adequate sample sizes and complete survival data

The study appears to have OS_STATUS (vital status) for most patients but lacks the temporal OS_MONTHS data needed for proper survival analysis. You would need a different study with more complete survival follow-up data to answer this question meaningfully.

---

## Model Information
- **model**: us.anthropic.claude-sonnet-4-5-20250929-v1:0
- **temperature**: 0.0
- **max_output_tokens**: 1024
- **thinking_enabled**: False
- **thinking_budget_tokens**: 1024
- **response_time_seconds**: 178.56600056099705
- **agent_type**: mcp-clickhouse

### Usage
- **input_tokens**: 751584
- **output_tokens**: 12465
- **total_tokens**: 764049
- **cache_creation_input_tokens**: 0
- **cache_read_input_tokens**: 0

---

*Generated on 2026-02-05 13:27:10*