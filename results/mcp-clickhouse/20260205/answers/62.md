# Question 62

**Type:** Mutation-Associated Clinical Differences

**Question:** In the TCGA Glioblastoma multiforme study compare the median patient age at diagnosis between patients with IDH1 R132H mutation and patients with wild-type IDH1.

**Answer:**

I'll help you compare the median age at diagnosis between IDH1 R132H mutant and wild-type patients in the TCGA Glioblastoma multiforme study.

First, let me find the correct study identifier and then analyze the data.



Calling `list_studies` with args:
```json
{
  "search": "glioblastoma TCGA"
}
```



Result from `list_studies`:
```json

```




Calling `list_studies` with args:
```json
{
  "search": "glioblastoma"
}
```



Result from `list_studies`:
```json

```


Let me search for TCGA studies more broadly:



Calling `list_studies` with args:
```json
{
  "search": "TCGA",
  "limit": 50
}
```



Result from `list_studies`:
```json
[{"cancer_study_identifier":"pancan_pcawg_2020","name":"Pan-cancer analysis of whole genomes (ICGC/TCGA, Nature 2020)","type_of_cancer_id":"mixed","sample_count":2998,"has_guide":false},{"cancer_study_identifier":"nsclc_tcga_broad_2016","name":"Pan-Lung Cancer (TCGA, Nat Genet 2016)","type_of_cancer_id":"nsclc","sample_count":1145,"has_guide":false},{"cancer_study_identifier":"lgggbm_tcga_pub","name":"Merged Cohort of LGG and GBM (TCGA, Cell 2016)","type_of_cancer_id":"difg","sample_count":1123,"has_guide":false},{"cancer_study_identifier":"brca_tcga","name":"Breast Invasive Carcinoma (TCGA, Firehose Legacy)","type_of_cancer_id":"brca","sample_count":1109,"has_guide":false},{"cancer_study_identifier":"brca_tcga_gdc","name":"Invasive Breast Carcinoma (TCGA, GDC)","type_of_cancer_id":"brca","sample_count":1106,"has_guide":false},{"cancer_study_identifier":"brca_tcga_pan_can_atlas_2018","name":"Breast Invasive Carcinoma (TCGA, PanCancer Atlas)","type_of_cancer_id":"brca","sample_count":1085,"has_guide":true},{"cancer_study_identifier":"brca_tcga_pub","name":"Breast Invasive Carcinoma (TCGA, Nature 2012)","type_of_cancer_id":"brca","sample_count":826,"has_guide":false},{"cancer_study_identifier":"brca_tcga_pub2015","name":"Breast Invasive Carcinoma (TCGA, Cell 2015)","type_of_cancer_id":"brca","sample_count":819,"has_guide":false},{"cancer_study_identifier":"coadread_tcga","name":"Colorectal Adenocarcinoma (TCGA, Firehose Legacy)","type_of_cancer_id":"coadread","sample_count":641,"has_guide":false},{"cancer_study_identifier":"gbm_tcga","name":"Glioblastoma Multiforme (TCGA, Firehose Legacy)","type_of_cancer_id":"difg","sample_count":620,"has_guide":false},{"cancer_study_identifier":"ov_tcga","name":"Ovarian Serous Cystadenocarcinoma (TCGA, Firehose Legacy)","type_of_cancer_id":"hgsoc","sample_count":618,"has_guide":false},{"cancer_study_identifier":"hgsoc_tcga_gdc","name":"High-Grade Serous Ovarian Cancer (TCGA, GDC)","type_of_cancer_id":"hgsoc","sample_count":618,"has_guide":false},{"cancer_study_identifier":"gbm_tcga_gdc","name":"Glioblastoma Multiforme (TCGA GDC, 2025)","type_of_cancer_id":"difg","sample_count":612,"has_guide":false},{"cancer_study_identifier":"coadread_tcga_pan_can_atlas_2018","name":"Colorectal Adenocarcinoma (TCGA, PanCancer Atlas)","type_of_cancer_id":"coadread","sample_count":595,"has_guide":true},{"cancer_study_identifier":"gbm_tcga_pan_can_atlas_2018","name":"Glioblastoma Multiforme (TCGA, PanCancer Atlas)","type_of_cancer_id":"difg","sample_count":593,"has_guide":true},{"cancer_study_identifier":"luad_tcga_gdc","name":"Lung Adenocarcinoma (TCGA, GDC)","type_of_cancer_id":"luad","sample_count":588,"has_guide":false},{"cancer_study_identifier":"luad_tcga","name":"Lung Adenocarcinoma (TCGA, Firehose Legacy)","type_of_cancer_id":"luad","sample_count":587,"has_guide":false},{"cancer_study_identifier":"ov_tcga_pan_can_atlas_2018","name":"Ovarian Serous Cystadenocarcinoma (TCGA, PanCancer Atlas)","type_of_cancer_id":"hgsoc","sample_count":586,"has_guide":true},{"cancer_study_identifier":"gbm_tcga_pub2013","name":"Glioblastoma (TCGA, Cell 2013)","type_of_cancer_id":"difg","sample_count":578,"has_guide":false},{"cancer_study_identifier":"luad_tcga_pan_can_atlas_2018","name":"Lung Adenocarcinoma (TCGA, PanCancer Atlas)","type_of_cancer_id":"luad","sample_count":567,"has_guide":true},{"cancer_study_identifier":"stes_tcga_pub","name":"Esophageal Carcinoma (TCGA, Nature 2017)","type_of_cancer_id":"egc","sample_count":560,"has_guide":false},{"cancer_study_identifier":"ucec_tcga","name":"Uterine Corpus Endometrial Carcinoma (TCGA, Firehose Legacy)","type_of_cancer_id":"ucec","sample_count":550,"has_guide":false},{"cancer_study_identifier":"ucec_tcga_gdc","name":"Endometrial Carcinoma (TCGA, GDC)","type_of_cancer_id":"ucec","sample_count":550,"has_guide":false},{"cancer_study_identifier":"kirc_tcga","name":"Kidney Renal Clear Cell Carcinoma (TCGA, Firehose Legacy)","type_of_cancer_id":"ccrcc","sample_count":539,"has_guide":false},{"cancer_study_identifier":"ccrcc_tcga_gdc","name":"Renal Clear Cell Carcinoma (TCGA, GDC)","type_of_cancer_id":"ccrcc","sample_count":539,"has_guide":false},{"cancer_study_identifier":"difg_tcga_gdc","name":"Diffuse Glioma (TCGA, GDC)","type_of_cancer_id":"difg","sample_count":533,"has_guide":false},{"cancer_study_identifier":"hnsc_tcga","name":"Head and Neck Squamous Cell Carcinoma (TCGA, Firehose Legacy)","type_of_cancer_id":"hnsc","sample_count":531,"has_guide":false},{"cancer_study_identifier":"lgg_tcga","name":"Brain Lower Grade Glioma (TCGA, Firehose Legacy)","type_of_cancer_id":"difg","sample_count":531,"has_guide":false},{"cancer_study_identifier":"hnsc_tcga_gdc","name":"Head and Neck Squamous Cell Carcinoma (TCGA, GDC)","type_of_cancer_id":"hnsc","sample_count":531,"has_guide":false},{"cancer_study_identifier":"ucec_tcga_pan_can_atlas_2018","name":"Uterine Corpus Endometrial Carcinoma (TCGA, PanCancer Atlas)","type_of_cancer_id":"ucec","sample_count":530,"has_guide":true},{"cancer_study_identifier":"hnsc_tcga_pan_can_atlas_2018","name":"Head and Neck Squamous Cell Carcinoma (TCGA, PanCancer Atlas)","type_of_cancer_id":"hnsc","sample_count":524,"has_guide":false},{"cancer_study_identifier":"thca_tcga","name":"Thyroid Carcinoma (TCGA, Firehose Legacy)","type_of_cancer_id":"thpa","sample_count":517,"has_guide":false},{"cancer_study_identifier":"thpa_tcga_gdc","name":"Papillary Thyroid Cancer (TCGA, GDC)","type_of_cancer_id":"thpa","sample_count":516,"has_guide":false},{"cancer_study_identifier":"lgg_tcga_pan_can_atlas_2018","name":"Brain Lower Grade Glioma (TCGA, PanCancer Atlas)","type_of_cancer_id":"difg","sample_count":515,"has_guide":false},{"cancer_study_identifier":"kirc_tcga_pan_can_atlas_2018","name":"Kidney Renal Clear Cell Carcinoma (TCGA, PanCancer Atlas)","type_of_cancer_id":"ccrcc","sample_count":513,"has_guide":false},{"cancer_study_identifier":"lusc_tcga","name":"Lung Squamous Cell Carcinoma (TCGA, Firehose Legacy)","type_of_cancer_id":"lusc","sample_count":512,"has_guide":false},{"cancer_study_identifier":"lusc_tcga_gdc","name":"Lung Squamous Cell Carcinoma (TCGA, GDC)","type_of_cancer_id":"lusc","sample_count":505,"has_guide":false},{"cancer_study_identifier":"prad_tcga","name":"Prostate Adenocarcinoma (TCGA, Firehose Legacy)","type_of_cancer_id":"prad","sample_count":502,"has_guide":false},{"cancer_study_identifier":"prad_tcga_gdc","name":"Prostate Adenocarcinoma (TCGA, GDC)","type_of_cancer_id":"prad","sample_count":502,"has_guide":false},{"cancer_study_identifier":"thca_tcga_pan_can_atlas_2018","name":"Thyroid Carcinoma (TCGA, PanCancer Atlas)","type_of_cancer_id":"thpa","sample_count":501,"has_guide":false},{"cancer_study_identifier":"thca_tcga_pub","name":"Papillary Thyroid Carcinoma (TCGA, Cell 2014)","type_of_cancer_id":"thpa","sample_count":497,"has_guide":false},{"cancer_study_identifier":"prad_tcga_pan_can_atlas_2018","name":"Prostate Adenocarcinoma (TCGA, PanCancer Atlas)","type_of_cancer_id":"prad","sample_count":495,"has_guide":false},{"cancer_study_identifier":"ov_tcga_pub","name":"Ovarian Serous Cystadenocarcinoma (TCGA, Nature 2011)","type_of_cancer_id":"hgsoc","sample_count":490,"has_guide":false},{"cancer_study_identifier":"lusc_tcga_pan_can_atlas_2018","name":"Lung Squamous Cell Carcinoma (TCGA, PanCancer Atlas)","type_of_cancer_id":"lusc","sample_count":488,"has_guide":false},{"cancer_study_identifier":"skcm_tcga","name":"Skin Cutaneous Melanoma (TCGA, Firehose Legacy)","type_of_cancer_id":"skcm","sample_count":481,"has_guide":false},{"cancer_study_identifier":"stad_tcga","name":"Stomach Adenocarcinoma (TCGA, Firehose Legacy)","type_of_cancer_id":"stad","sample_count":479,"has_guide":false},{"cancer_study_identifier":"blca_msk_tcga_2020","name":"Bladder Cancer (MSK/TCGA, 2020)","type_of_cancer_id":"blca","sample_count":477,"has_guide":false},{"cancer_study_identifier":"skcm_tcga_gdc","name":"Cutaneous Melanoma (TCGA, GDC)","type_of_cancer_id":"skcm","sample_count":475,"has_guide":false},{"cancer_study_identifier":"coad_tcga_gdc","name":"Colon Adenocarcinoma (TCGA, GDC)","type_of_cancer_id":"coad","sample_count":465,"has_guide":false},{"cancer_study_identifier":"skcm_tcga_pan_can_atlas_2018","name":"Skin Cutaneous Melanoma (TCGA, PanCancer Atlas)","type_of_cancer_id":"skcm","sample_count":449,"has_guide":false}]
```


Great! I found several TCGA Glioblastoma studies. I'll use "gbm_tcga_pan_can_atlas_2018" (Glioblastoma Multiforme TCGA, PanCancer Atlas) which is a comprehensive dataset. Let me get the study guide first:



Calling `get_study_guide` with args:
```json
{
  "study_id": "gbm_tcga_pan_can_atlas_2018"
}
```



Result from `get_study_guide`:
```json
# Glioblastoma Multiforme (TCGA, PanCancer Atlas)

**Study ID:** `gbm_tcga_pan_can_atlas_2018`

See `_tcga_pancan_template.md` for common TCGA clinical attributes.

## Study-Specific Attributes

### Molecular Classification
| Attribute | Description | Values |
|-----------|-------------|--------|
| `IDH_STATUS` | IDH mutation status | Mutant, Wild-type |
| `MGMT_STATUS` | MGMT promoter methylation | Methylated, Unmethylated |
| `SUBTYPE` | Molecular subtype | Classical, Mesenchymal, Proneural, Neural |

### Clinical Context
| Attribute | Description |
|-----------|-------------|
| `KPS` | Karnofsky Performance Status |
| `EXTENT_OF_RESECTION` | Surgical resection extent |

## Key Genes & Pathways
- **TP53**: Frequently mutated
- **PTEN**: Common deletions
- **EGFR**: Amplified in ~40%, often with EGFRvIII variant
- **IDH1**: R132H mutation defines IDH-mutant subtype (better prognosis)
- **RB pathway**: CDKN2A deletion, CDK4 amplification, RB1 mutation (often mutually exclusive)

## Notes
- IDH-mutant GBMs have significantly better prognosis
- MGMT methylation predicts temozolomide response
- EGFR amplification and EGFRvIII are GBM-specific
- Molecular subtypes have distinct transcriptional programs

```


Perfect! Now let me query the data to compare median age at diagnosis between IDH1 R132H mutant and wild-type patients. I'll need to:
1. Identify patients with IDH1 R132H mutations
2. Identify patients with wild-type IDH1
3. Get their age at diagnosis
4. Calculate median ages for each group



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Get age at diagnosis for patients with IDH1 R132H mutation vs wild-type\nWITH idh1_mutations AS (\n    SELECT DISTINCT\n        patient_unique_id,\n        hugo_gene_symbol,\n        protein_change\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\n    AND hugo_gene_symbol = 'IDH1'\n    AND variant_type = 'mutation'\n),\npatient_ages AS (\n    SELECT DISTINCT\n        patient_unique_id,\n        attribute_value as age_at_diagnosis\n    FROM clinical_data_derived\n    WHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\n    AND attribute_name = 'AGE'\n    AND attribute_value != ''\n),\npatient_classification AS (\n    SELECT \n        pa.patient_unique_id,\n        CAST(pa.age_at_diagnosis AS Float64) as age,\n        CASE \n            WHEN im.protein_change LIKE '%R132H%' THEN 'IDH1 R132H Mutant'\n            WHEN im.patient_unique_id IS NOT NULL AND im.protein_change NOT LIKE '%R132H%' THEN 'IDH1 Other Mutation'\n            ELSE 'IDH1 Wild-type'\n        END as idh1_status\n    FROM patient_ages pa\n    LEFT JOIN idh1_mutations im ON pa.patient_unique_id = im.patient_unique_id\n)\nSELECT \n    idh1_status,\n    COUNT(*) as patient_count,\n    median(age) as median_age,\n    round(avg(age), 1) as mean_age,\n    round(min(age), 1) as min_age,\n    round(max(age), 1) as max_age\nFROM patient_classification\nWHERE idh1_status IN ('IDH1 R132H Mutant', 'IDH1 Wild-type')\nGROUP BY idh1_status\nORDER BY idh1_status\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"error_message":"Query execution failed: Received ClickHouse exception, code: 47, server response: Code: 47. DB::Exception: Unknown expression identifier `protein_change` in scope idh1_mutations AS (SELECT DISTINCT patient_unique_id, hugo_gene_symbol, protein_change FROM genomic_event_derived WHERE (cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018') AND (hugo_gene_symbol = 'IDH1') AND (variant_type = 'mutation')). (UNKNOWN_IDENTIFIER) (version 25.8.1.36912 (official build)) (for url https://dl96orhu96.us-east-1.aws.clickhouse.cloud:8443)"}
```


Let me check the actual columns in the genomic_event_derived table:



Calling `clickhouse_list_table_columns` with args:
```json
{
  "table": "genomic_event_derived"
}
```



Result from `clickhouse_list_table_columns`:
```json
{"columns":[{"name":"sample_unique_id","type":"String","comment":"Globally unique sample identifier constructed as cancer_study_identifier + \"_\" + sample.stable_id to ensure uniqueness across all studies."},{"name":"hugo_gene_symbol","type":"String","comment":"Official HUGO gene symbol for the affected gene. References gene.hugo_gene_symbol."},{"name":"entrez_gene_id","type":"Int32","comment":"Entrez Gene ID for the affected gene. References gene.entrez_gene_id."},{"name":"gene_panel_stable_id","type":"LowCardinality(String)","comment":"Identifier of the gene panel used for this sample. Defaults to \"WES\" (Whole Exome Sequencing) when no specific panel is assigned."},{"name":"cancer_study_identifier","type":"LowCardinality(String)","comment":"Stable string identifier for the cancer study. References cancer_study.cancer_study_identifier."},{"name":"genetic_profile_stable_id","type":"LowCardinality(String)","comment":"Stable identifier of the genetic profile containing this event. References genetic_profile.stable_id."},{"name":"variant_type","type":"LowCardinality(String)","comment":"Type of genomic variant: \"mutation\" for point mutations/indels, \"cna\" for copy number alterations, \"structural_variant\" for structural rearrangements."},{"name":"mutation_variant","type":"String","comment":"Protein-level change for mutations (e.g., p.V600E). Set to \"NA\" for non-mutation events. References mutation_event.protein_change."},{"name":"mutation_type","type":"LowCardinality(String)","comment":"Classification of mutation type (e.g., Missense, Nonsense, Frame_Shift). Set to \"NA\" for non-mutation events. References mutation_event.mutation_type."},{"name":"mutation_status","type":"LowCardinality(String)","comment":"Mutation status: Germline, Somatic, or LOH. Set to \"NA\" for non-mutation events. References mutation.mutation_status."},{"name":"driver_filter","type":"LowCardinality(String)","comment":"Driver annotation filter applied to the alteration. Currently set to \"NA\" for all events (driver annotations not yet implemented)."},{"name":"driver_tiers_filter","type":"LowCardinality(String)","comment":"Driver tiers annotation filter. Currently set to \"NA\" for all events (driver annotations not yet implemented)."},{"name":"cna_alteration","type":"Nullable(Int8)","comment":"Copy number alteration value (e.g., -2 for deep deletion, +2 for amplification). NULL for non-CNA events. References cna_event.alteration."},{"name":"cna_cytoband","type":"String","comment":"Cytogenetic band location of the gene for CNA events. Empty string for non-CNA events. References reference_genome_gene.cytoband."},{"name":"sv_event_info","type":"String","comment":"Additional information about structural variant events. Empty string for non-SV events. References structural_variant.event_info."},{"name":"patient_unique_id","type":"String","comment":"Globally unique patient identifier constructed as cancer_study_identifier + \"_\" + patient.stable_id to ensure uniqueness across all studies."},{"name":"off_panel","type":"Bool","comment":"Boolean flag indicating whether this genomic event occurred in a gene not covered by the associated gene panel (TRUE=off-panel, FALSE=on-panel). Determined by checking presence in gene_panel_to_gene_derived table."}]}
```


Good! The column is called `mutation_variant` not `protein_change`. Let me update the query:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Get age at diagnosis for patients with IDH1 R132H mutation vs wild-type\nWITH idh1_mutations AS (\n    SELECT DISTINCT\n        patient_unique_id,\n        hugo_gene_symbol,\n        mutation_variant\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\n    AND hugo_gene_symbol = 'IDH1'\n    AND variant_type = 'mutation'\n),\npatient_ages AS (\n    SELECT DISTINCT\n        patient_unique_id,\n        attribute_value as age_at_diagnosis\n    FROM clinical_data_derived\n    WHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\n    AND attribute_name = 'AGE'\n    AND attribute_value != ''\n),\npatient_classification AS (\n    SELECT \n        pa.patient_unique_id,\n        CAST(pa.age_at_diagnosis AS Float64) as age,\n        CASE \n            WHEN im.mutation_variant LIKE '%R132H%' THEN 'IDH1 R132H Mutant'\n            WHEN im.patient_unique_id IS NOT NULL AND im.mutation_variant NOT LIKE '%R132H%' THEN 'IDH1 Other Mutation'\n            ELSE 'IDH1 Wild-type'\n        END as idh1_status\n    FROM patient_ages pa\n    LEFT JOIN idh1_mutations im ON pa.patient_unique_id = im.patient_unique_id\n)\nSELECT \n    idh1_status,\n    COUNT(*) as patient_count,\n    median(age) as median_age,\n    round(avg(age), 1) as mean_age,\n    round(min(age), 1) as min_age,\n    round(max(age), 1) as max_age\nFROM patient_classification\nWHERE idh1_status IN ('IDH1 R132H Mutant', 'IDH1 Wild-type')\nGROUP BY idh1_status\nORDER BY idh1_status\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"idh1_status":"IDH1 R132H Mutant","patient_count":17,"median_age":40.0,"mean_age":38.9,"min_age":21.0,"max_age":60.0}]}
```


Interesting! I only got the mutant group. Let me check why the wild-type group isn't showing up. Let me verify the total number of patients and see the distribution:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Check all patients with age data\nWITH idh1_mutations AS (\n    SELECT DISTINCT\n        patient_unique_id,\n        hugo_gene_symbol,\n        mutation_variant\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\n    AND hugo_gene_symbol = 'IDH1'\n    AND variant_type = 'mutation'\n),\npatient_ages AS (\n    SELECT DISTINCT\n        patient_unique_id,\n        attribute_value as age_at_diagnosis\n    FROM clinical_data_derived\n    WHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\n    AND attribute_name = 'AGE'\n    AND attribute_value != ''\n),\npatient_classification AS (\n    SELECT \n        pa.patient_unique_id,\n        CAST(pa.age_at_diagnosis AS Float64) as age,\n        CASE \n            WHEN im.mutation_variant LIKE '%R132H%' THEN 'IDH1 R132H Mutant'\n            WHEN im.patient_unique_id IS NOT NULL AND im.mutation_variant NOT LIKE '%R132H%' THEN 'IDH1 Other Mutation'\n            ELSE 'IDH1 Wild-type'\n        END as idh1_status\n    FROM patient_ages pa\n    LEFT JOIN idh1_mutations im ON pa.patient_unique_id = im.patient_unique_id\n)\nSELECT \n    idh1_status,\n    COUNT(*) as patient_count,\n    median(age) as median_age,\n    round(avg(age), 1) as mean_age,\n    round(min(age), 1) as min_age,\n    round(max(age), 1) as max_age\nFROM patient_classification\nGROUP BY idh1_status\nORDER BY idh1_status\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"idh1_status":"IDH1 Other Mutation","patient_count":280,"median_age":61.0,"mean_age":60.8,"min_age":10.0,"max_age":89.0},{"idh1_status":"IDH1 R132H Mutant","patient_count":17,"median_age":40.0,"mean_age":38.9,"min_age":21.0,"max_age":60.0}]}
```


That's strange - it seems like all patients are being classified as having some IDH1 mutation. Let me investigate what's happening with the IDH1 mutations:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Check what IDH1 mutations exist\nSELECT \n    mutation_variant,\n    COUNT(DISTINCT patient_unique_id) as patient_count\nFROM genomic_event_derived\nWHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\nAND hugo_gene_symbol = 'IDH1'\nAND variant_type = 'mutation'\nGROUP BY mutation_variant\nORDER BY patient_count DESC\nLIMIT 20\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"mutation_variant":"R132H","patient_count":22},{"mutation_variant":"R132G","patient_count":1},{"mutation_variant":"R132C","patient_count":1}]}
```


Good! So there are only 24 patients with IDH1 mutations (22 with R132H, 1 with R132G, 1 with R132C). The issue is that my query is incorrectly classifying patients. Let me check the total number of patients in the study:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Check total patients with age data\nSELECT COUNT(DISTINCT patient_unique_id) as total_patients\nFROM clinical_data_derived\nWHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\nAND attribute_name = 'AGE'\nAND attribute_value != ''\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"total_patients":297}]}
```


So there are 297 patients total with age data. Let me rewrite the query more carefully to properly identify wild-type patients:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Get age at diagnosis for patients with IDH1 R132H mutation vs wild-type\nWITH idh1_r132h_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\n    AND hugo_gene_symbol = 'IDH1'\n    AND variant_type = 'mutation'\n    AND mutation_variant = 'R132H'\n),\nall_idh1_mutant_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\n    AND hugo_gene_symbol = 'IDH1'\n    AND variant_type = 'mutation'\n),\npatient_ages AS (\n    SELECT DISTINCT\n        patient_unique_id,\n        CAST(attribute_value AS Float64) as age\n    FROM clinical_data_derived\n    WHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\n    AND attribute_name = 'AGE'\n    AND attribute_value != ''\n),\npatient_classification AS (\n    SELECT \n        pa.patient_unique_id,\n        pa.age,\n        CASE \n            WHEN r132h.patient_unique_id IS NOT NULL THEN 'IDH1 R132H Mutant'\n            WHEN all_mut.patient_unique_id IS NOT NULL THEN 'IDH1 Other Mutation'\n            ELSE 'IDH1 Wild-type'\n        END as idh1_status\n    FROM patient_ages pa\n    LEFT JOIN idh1_r132h_patients r132h ON pa.patient_unique_id = r132h.patient_unique_id\n    LEFT JOIN all_idh1_mutant_patients all_mut ON pa.patient_unique_id = all_mut.patient_unique_id\n)\nSELECT \n    idh1_status,\n    COUNT(*) as patient_count,\n    median(age) as median_age,\n    round(avg(age), 1) as mean_age,\n    round(min(age), 1) as min_age,\n    round(max(age), 1) as max_age\nFROM patient_classification\nWHERE idh1_status IN ('IDH1 R132H Mutant', 'IDH1 Wild-type')\nGROUP BY idh1_status\nORDER BY idh1_status\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"idh1_status":"IDH1 R132H Mutant","patient_count":297,"median_age":60.0,"mean_age":59.5,"min_age":10.0,"max_age":89.0}]}
```


That's still wrong - all 297 patients are being classified as R132H mutant. Let me debug this step by step:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Debug: Check the join\nWITH idh1_r132h_patients AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\n    AND hugo_gene_symbol = 'IDH1'\n    AND variant_type = 'mutation'\n    AND mutation_variant = 'R132H'\n)\nSELECT COUNT(*) as r132h_patient_count\nFROM idh1_r132h_patients\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"r132h_patient_count":22}]}
```


Good, so there are 22 R132H patients. Let me check a sample of patient IDs to see what's happening:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Check sample patient IDs from both sources\nSELECT 'R132H patients' as source, patient_unique_id\nFROM genomic_event_derived\nWHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\nAND hugo_gene_symbol = 'IDH1'\nAND variant_type = 'mutation'\nAND mutation_variant = 'R132H'\nLIMIT 3\n\nUNION ALL\n\nSELECT 'Age data patients' as source, patient_unique_id\nFROM clinical_data_derived\nWHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\nAND attribute_name = 'AGE'\nAND attribute_value != ''\nLIMIT 3\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"source":"R132H patients","patient_unique_id":"gbm_tcga_pan_can_atlas_2018_TCGA-02-2483"},{"source":"R132H patients","patient_unique_id":"gbm_tcga_pan_can_atlas_2018_TCGA-06-0128"},{"source":"R132H patients","patient_unique_id":"gbm_tcga_pan_can_atlas_2018_TCGA-06-0129"},{"source":"Age data patients","patient_unique_id":"gbm_tcga_pan_can_atlas_2018_TCGA-02-2466"},{"source":"Age data patients","patient_unique_id":"gbm_tcga_pan_can_atlas_2018_TCGA-02-2470"},{"source":"Age data patients","patient_unique_id":"gbm_tcga_pan_can_atlas_2018_TCGA-02-2483"}]}
```


The patient IDs look correct. Let me try a simpler approach with explicit CASE logic:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Simpler approach: get all patients with age, then check for IDH1 R132H\nSELECT \n    CASE \n        WHEN patient_unique_id IN (\n            SELECT DISTINCT patient_unique_id\n            FROM genomic_event_derived\n            WHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\n            AND hugo_gene_symbol = 'IDH1'\n            AND variant_type = 'mutation'\n            AND mutation_variant = 'R132H'\n        ) THEN 'IDH1 R132H Mutant'\n        ELSE 'IDH1 Wild-type'\n    END as idh1_status,\n    COUNT(*) as patient_count,\n    median(CAST(attribute_value AS Float64)) as median_age,\n    round(avg(CAST(attribute_value AS Float64)), 1) as mean_age,\n    round(min(CAST(attribute_value AS Float64)), 1) as min_age,\n    round(max(CAST(attribute_value AS Float64)), 1) as max_age\nFROM clinical_data_derived\nWHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\nAND attribute_name = 'AGE'\nAND attribute_value != ''\nGROUP BY idh1_status\nORDER BY idh1_status\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"idh1_status":"IDH1 R132H Mutant","patient_count":17,"median_age":40.0,"mean_age":38.9,"min_age":21.0,"max_age":60.0},{"idh1_status":"IDH1 Wild-type","patient_count":280,"median_age":61.0,"mean_age":60.8,"min_age":10.0,"max_age":89.0}]}
```


Excellent! Now I have the correct results. Let me also verify these numbers and get a bit more detail:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Verify and get additional statistics\nWITH patient_ages AS (\n    SELECT \n        patient_unique_id,\n        CAST(attribute_value AS Float64) as age\n    FROM clinical_data_derived\n    WHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\n    AND attribute_name = 'AGE'\n    AND attribute_value != ''\n),\nidh1_status AS (\n    SELECT \n        pa.patient_unique_id,\n        pa.age,\n        CASE \n            WHEN ged.patient_unique_id IS NOT NULL THEN 'IDH1 R132H Mutant'\n            ELSE 'IDH1 Wild-type'\n        END as status\n    FROM patient_ages pa\n    LEFT JOIN (\n        SELECT DISTINCT patient_unique_id\n        FROM genomic_event_derived\n        WHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\n        AND hugo_gene_symbol = 'IDH1'\n        AND variant_type = 'mutation'\n        AND mutation_variant = 'R132H'\n    ) ged ON pa.patient_unique_id = ged.patient_unique_id\n)\nSELECT \n    status,\n    COUNT(*) as patient_count,\n    median(age) as median_age,\n    round(avg(age), 1) as mean_age,\n    round(stddevPop(age), 1) as std_dev,\n    round(quantile(0.25)(age), 1) as q25,\n    round(quantile(0.75)(age), 1) as q75,\n    round(min(age), 1) as min_age,\n    round(max(age), 1) as max_age\nFROM idh1_status\nGROUP BY status\nORDER BY status\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"status":"IDH1 R132H Mutant","patient_count":297,"median_age":60.0,"mean_age":59.5,"std_dev":13.9,"q25":52.0,"q75":69.0,"min_age":10.0,"max_age":89.0}]}
```


That's still giving me the wrong result with the LEFT JOIN. Let me go back to the working query approach:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Final query with proper classification\nWITH patient_ages AS (\n    SELECT DISTINCT\n        patient_unique_id,\n        CAST(attribute_value AS Float64) as age\n    FROM clinical_data_derived\n    WHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\n    AND attribute_name = 'AGE'\n    AND attribute_value != ''\n),\nidh1_r132h_set AS (\n    SELECT DISTINCT patient_unique_id\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'gbm_tcga_pan_can_atlas_2018'\n    AND hugo_gene_symbol = 'IDH1'\n    AND variant_type = 'mutation'\n    AND mutation_variant = 'R132H'\n)\nSELECT \n    CASE \n        WHEN pa.patient_unique_id IN (SELECT patient_unique_id FROM idh1_r132h_set) \n        THEN 'IDH1 R132H Mutant'\n        ELSE 'IDH1 Wild-type'\n    END as idh1_status,\n    COUNT(*) as patient_count,\n    median(age) as median_age,\n    round(avg(age), 1) as mean_age,\n    round(stddevPop(age), 1) as std_dev,\n    round(quantile(0.25)(age), 1) as q25_age,\n    round(quantile(0.75)(age), 1) as q75_age,\n    round(min(age), 1) as min_age,\n    round(max(age), 1) as max_age\nFROM patient_ages pa\nGROUP BY idh1_status\nORDER BY idh1_status\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"idh1_status":"IDH1 R132H Mutant","patient_count":17,"median_age":40.0,"mean_age":38.9,"std_dev":11.8,"q25_age":30.0,"q75_age":45.0,"min_age":21.0,"max_age":60.0},{"idh1_status":"IDH1 Wild-type","patient_count":280,"median_age":61.0,"mean_age":60.8,"std_dev":13.0,"q25_age":53.0,"q75_age":70.0,"min_age":10.0,"max_age":89.0}]}
```


Perfect! Now I have the complete and accurate results. Let me create a summary:

## Results: Median Age at Diagnosis Comparison

In the **TCGA Glioblastoma Multiforme (PanCancer Atlas)** study, there is a striking difference in age at diagnosis between patients with IDH1 R132H mutations and those with wild-type IDH1:

### **IDH1 R132H Mutant Patients**
- **Patient count:** 17
- **Median age:** 40.0 years
- **Mean age:** 38.9 years
- **Age range:** 21-60 years
- **Interquartile range (Q1-Q3):** 30-45 years

### **IDH1 Wild-type Patients**
- **Patient count:** 280
- **Median age:** 61.0 years
- **Mean age:** 60.8 years
- **Age range:** 10-89 years
- **Interquartile range (Q1-Q3):** 53-70 years

### **Key Findings:**

1. **21-year difference in median age**: Patients with IDH1 R132H mutations are diagnosed at a median age of 40 years, compared to 61 years for wild-type patients - a difference of 21 years.

2. **Younger patient population**: IDH1 R132H mutant patients are consistently younger, with 75% diagnosed by age 45, while 75% of wild-type patients are diagnosed by age 70.

3. **Clinical significance**: This age difference aligns with the known biology of IDH-mutant glioblastomas, which typically occur in younger patients and have a better prognosis compared to IDH wild-type glioblastomas.

4. **Prevalence**: IDH1 R132H mutations are relatively rare in this GBM cohort, occurring in only 5.7% (17/297) of patients with age data.

This dramatic age difference is one of the key clinical features that distinguishes IDH-mutant from IDH wild-type glioblastomas and is an important prognostic factor in glioblastoma classification.

---

## Model Information
- **model**: us.anthropic.claude-sonnet-4-5-20250929-v1:0
- **temperature**: 0.0
- **max_output_tokens**: 1024
- **thinking_enabled**: False
- **thinking_budget_tokens**: 1024
- **response_time_seconds**: 89.38632950489409
- **agent_type**: mcp-clickhouse

### Usage
- **input_tokens**: 161249
- **output_tokens**: 5836
- **total_tokens**: 167085
- **cache_creation_input_tokens**: 0
- **cache_read_input_tokens**: 0

---

*Generated on 2026-02-05 13:32:16*