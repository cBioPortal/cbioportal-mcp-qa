# Question 37

**Type:** Survival Analysis - Gene Alteration

**Question:** Do ovarian cancer patients with BRCA1 or BRCA2 alterations have significantly different overall survival compared to wild-type patients?

**Answer:**

I'll help you analyze the overall survival differences between ovarian cancer patients with BRCA1/BRCA2 alterations versus wild-type patients. Let me start by exploring the available data.



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- First, let's identify ovarian cancer patients and their BRCA1/BRCA2 mutation status\nSELECT \n    COUNT(DISTINCT patient_unique_id) as total_patients,\n    COUNT(DISTINCT CASE WHEN hugo_gene_symbol IN ('BRCA1', 'BRCA2') THEN patient_unique_id END) as brca_mutated_patients\nFROM genomic_event_derived\nWHERE cancer_study_identifier = 'msk_chord_2024'\n    AND variant_type = 'mutation'\n    AND attribute_name = 'CANCER_TYPE' \n    AND attribute_value LIKE '%Ovarian%'\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"error_message":"Query execution failed: Received ClickHouse exception, code: 47, server response: Code: 47. DB::Exception: Unknown expression or function identifier `attribute_name` in scope SELECT COUNTDistinct(patient_unique_id) AS total_patients, COUNTDistinct(multiIf(hugo_gene_symbol IN ('BRCA1', 'BRCA2'), patient_unique_id, NULL)) AS brca_mutated_patients FROM genomic_event_derived WHERE (cancer_study_identifier = 'msk_chord_2024') AND (variant_type = 'mutation') AND (attribute_name = 'CANCER_TYPE') AND (attribute_value LIKE '%Ovarian%'). (UNKNOWN_IDENTIFIER) (version 25.8.1.36912 (official build)) (for url https://dl96orhu96.us-east-1.aws.clickhouse.cloud:8443)"}
```


Let me correct that - I need to join with clinical data to filter by cancer type:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Identify ovarian cancer patients\nSELECT \n    COUNT(DISTINCT patient_unique_id) as total_ovarian_patients\nFROM clinical_data_derived\nWHERE cancer_study_identifier = 'msk_chord_2024'\n    AND attribute_name = 'CANCER_TYPE'\n    AND attribute_value LIKE '%Ovarian%'\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"total_ovarian_patients":0}]}
```


Let me check what cancer types are available:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Check available cancer types\nSELECT DISTINCT attribute_value, COUNT(*) as patient_count\nFROM clinical_data_derived\nWHERE cancer_study_identifier = 'msk_chord_2024'\n    AND attribute_name = 'CANCER_TYPE'\nGROUP BY attribute_value\nORDER BY patient_count DESC\nLIMIT 20\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"attribute_value":"Non-Small Cell Lung Cancer","patient_count":7809},{"attribute_value":"Colorectal Cancer","patient_count":5543},{"attribute_value":"Breast Cancer","patient_count":5368},{"attribute_value":"Prostate Cancer","patient_count":3211},{"attribute_value":"Pancreatic Cancer","patient_count":3109}]}
```




Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Check for ovarian cancer in detailed cancer types\nSELECT DISTINCT attribute_value, COUNT(*) as patient_count\nFROM clinical_data_derived\nWHERE cancer_study_identifier = 'msk_chord_2024'\n    AND attribute_name = 'CANCER_TYPE_DETAILED'\n    AND attribute_value LIKE '%Ovarian%'\nGROUP BY attribute_value\nORDER BY patient_count DESC\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[]}
```




Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Check all cancer types to see if ovarian is present\nSELECT DISTINCT attribute_value\nFROM clinical_data_derived\nWHERE cancer_study_identifier = 'msk_chord_2024'\n    AND attribute_name = 'CANCER_TYPE'\n    AND (attribute_value LIKE '%Ovar%' OR attribute_value LIKE '%Gyn%')\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[]}
```


Let me check what studies might have ovarian cancer data:



Calling `list_studies` with args:
```json
{
  "search": "ovarian",
  "limit": 20
}
```



Result from `list_studies`:
```json
[{"cancer_study_identifier":"ovarian_msk_2025","name":"Serous Ovarian Cancer (MSK, 2025)","type_of_cancer_id":"ovary","sample_count":32,"has_guide":false}]
```


Great! There's an ovarian cancer study. Let me analyze that study instead:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Get ovarian cancer patients with BRCA1/BRCA2 mutation status and survival data\nWITH brca_status AS (\n    SELECT DISTINCT\n        patient_unique_id,\n        CASE \n            WHEN hugo_gene_symbol IN ('BRCA1', 'BRCA2') THEN hugo_gene_symbol\n            ELSE NULL\n        END as brca_gene\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'ovarian_msk_2025'\n        AND variant_type = 'mutation'\n        AND hugo_gene_symbol IN ('BRCA1', 'BRCA2')\n),\npatient_brca AS (\n    SELECT \n        patient_unique_id,\n        groupArray(brca_gene) as brca_genes,\n        CASE \n            WHEN length(brca_genes) > 0 THEN 'BRCA_mutated'\n            ELSE 'Wild_type'\n        END as brca_status\n    FROM (\n        SELECT DISTINCT patient_unique_id FROM clinical_data_derived \n        WHERE cancer_study_identifier = 'ovarian_msk_2025'\n    ) all_patients\n    LEFT JOIN brca_status USING (patient_unique_id)\n    GROUP BY patient_unique_id\n),\nsurvival_data AS (\n    SELECT \n        patient_unique_id,\n        MAX(CASE WHEN attribute_name = 'OS_STATUS' THEN attribute_value END) as os_status,\n        MAX(CASE WHEN attribute_name = 'OS_MONTHS' THEN toFloat64OrNull(attribute_value) END) as os_months\n    FROM clinical_data_derived\n    WHERE cancer_study_identifier = 'ovarian_msk_2025'\n        AND attribute_name IN ('OS_STATUS', 'OS_MONTHS')\n    GROUP BY patient_unique_id\n)\nSELECT \n    pb.brca_status,\n    COUNT(DISTINCT pb.patient_unique_id) as patient_count,\n    COUNT(DISTINCT CASE WHEN sd.os_status IS NOT NULL THEN pb.patient_unique_id END) as patients_with_survival_data,\n    arrayStringConcat(groupUniqArray(pb.brca_genes), ', ') as genes_mutated\nFROM patient_brca pb\nLEFT JOIN survival_data sd ON pb.patient_unique_id = sd.patient_unique_id\nGROUP BY pb.brca_status\nORDER BY pb.brca_status\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"brca_status":"BRCA_mutated","patient_count":2,"patients_with_survival_data":2,"genes_mutated":"['BRCA2']"},{"brca_status":"Wild_type","patient_count":25,"patients_with_survival_data":25,"genes_mutated":"[]"}]}
```


Now let me get the detailed survival statistics:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Detailed survival analysis comparing BRCA mutated vs wild-type\nWITH brca_status AS (\n    SELECT DISTINCT\n        patient_unique_id,\n        1 as has_brca_mutation\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'ovarian_msk_2025'\n        AND variant_type = 'mutation'\n        AND hugo_gene_symbol IN ('BRCA1', 'BRCA2')\n),\npatient_brca AS (\n    SELECT \n        ap.patient_unique_id,\n        CASE \n            WHEN bs.has_brca_mutation = 1 THEN 'BRCA_mutated'\n            ELSE 'Wild_type'\n        END as brca_status\n    FROM (\n        SELECT DISTINCT patient_unique_id FROM clinical_data_derived \n        WHERE cancer_study_identifier = 'ovarian_msk_2025'\n    ) ap\n    LEFT JOIN brca_status bs ON ap.patient_unique_id = bs.patient_unique_id\n),\nsurvival_data AS (\n    SELECT \n        patient_unique_id,\n        MAX(CASE WHEN attribute_name = 'OS_STATUS' THEN attribute_value END) as os_status,\n        MAX(CASE WHEN attribute_name = 'OS_MONTHS' THEN toFloat64OrNull(attribute_value) END) as os_months\n    FROM clinical_data_derived\n    WHERE cancer_study_identifier = 'ovarian_msk_2025'\n        AND attribute_name IN ('OS_STATUS', 'OS_MONTHS')\n    GROUP BY patient_unique_id\n    HAVING os_months IS NOT NULL\n)\nSELECT \n    pb.brca_status,\n    COUNT(*) as total_patients,\n    COUNT(CASE WHEN sd.os_status = '1:DECEASED' THEN 1 END) as deceased_count,\n    COUNT(CASE WHEN sd.os_status = '0:LIVING' THEN 1 END) as living_count,\n    round(avg(sd.os_months), 2) as mean_os_months,\n    round(median(sd.os_months), 2) as median_os_months,\n    round(min(sd.os_months), 2) as min_os_months,\n    round(max(sd.os_months), 2) as max_os_months,\n    round(stddevPop(sd.os_months), 2) as std_os_months\nFROM patient_brca pb\nINNER JOIN survival_data sd ON pb.patient_unique_id = sd.patient_unique_id\nGROUP BY pb.brca_status\nORDER BY pb.brca_status\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"brca_status":"BRCA_mutated","total_patients":2,"deceased_count":0,"living_count":2,"mean_os_months":66.0,"median_os_months":66.0,"min_os_months":44.0,"max_os_months":88.0,"std_os_months":22.0},{"brca_status":"Wild_type","total_patients":25,"deceased_count":13,"living_count":12,"mean_os_months":59.6,"median_os_months":44.0,"min_os_months":0.0,"max_os_months":208.0,"std_os_months":48.41}]}
```


Let me also check which specific BRCA genes are mutated:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Get specific BRCA mutations\nSELECT \n    patient_unique_id,\n    hugo_gene_symbol,\n    protein_change,\n    mutation_type\nFROM genomic_event_derived\nWHERE cancer_study_identifier = 'ovarian_msk_2025'\n    AND variant_type = 'mutation'\n    AND hugo_gene_symbol IN ('BRCA1', 'BRCA2')\nORDER BY patient_unique_id, hugo_gene_symbol\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"error_message":"Query execution failed: Received ClickHouse exception, code: 47, server response: Code: 47. DB::Exception: Unknown expression identifier `protein_change` in scope SELECT patient_unique_id, hugo_gene_symbol, protein_change, mutation_type FROM genomic_event_derived WHERE (cancer_study_identifier = 'ovarian_msk_2025') AND (variant_type = 'mutation') AND (hugo_gene_symbol IN ('BRCA1', 'BRCA2')) ORDER BY patient_unique_id ASC, hugo_gene_symbol ASC. (UNKNOWN_IDENTIFIER) (version 25.8.1.36912 (official build)) (for url https://dl96orhu96.us-east-1.aws.clickhouse.cloud:8443)"}
```




Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Get specific BRCA mutations with correct columns\nSELECT \n    patient_unique_id,\n    hugo_gene_symbol,\n    mutation_type,\n    COUNT(*) as mutation_count\nFROM genomic_event_derived\nWHERE cancer_study_identifier = 'ovarian_msk_2025'\n    AND variant_type = 'mutation'\n    AND hugo_gene_symbol IN ('BRCA1', 'BRCA2')\nGROUP BY patient_unique_id, hugo_gene_symbol, mutation_type\nORDER BY patient_unique_id, hugo_gene_symbol\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"patient_unique_id":"ovarian_msk_2025_LGSHT-12-I","hugo_gene_symbol":"BRCA2","mutation_type":"Frame_Shift_Del","mutation_count":1},{"patient_unique_id":"ovarian_msk_2025_LGSHT-16-H","hugo_gene_symbol":"BRCA2","mutation_type":"Splice_Site","mutation_count":1}]}
```


Now let me create a more detailed survival comparison with individual patient data:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Get individual patient survival data for visualization\nWITH brca_status AS (\n    SELECT DISTINCT\n        patient_unique_id,\n        groupArray(hugo_gene_symbol) as brca_genes\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'ovarian_msk_2025'\n        AND variant_type = 'mutation'\n        AND hugo_gene_symbol IN ('BRCA1', 'BRCA2')\n    GROUP BY patient_unique_id\n),\npatient_brca AS (\n    SELECT \n        ap.patient_unique_id,\n        CASE \n            WHEN length(bs.brca_genes) > 0 THEN 'BRCA_mutated'\n            ELSE 'Wild_type'\n        END as brca_status,\n        arrayStringConcat(bs.brca_genes, ', ') as genes\n    FROM (\n        SELECT DISTINCT patient_unique_id FROM clinical_data_derived \n        WHERE cancer_study_identifier = 'ovarian_msk_2025'\n    ) ap\n    LEFT JOIN brca_status bs ON ap.patient_unique_id = bs.patient_unique_id\n),\nsurvival_data AS (\n    SELECT \n        patient_unique_id,\n        MAX(CASE WHEN attribute_name = 'OS_STATUS' THEN attribute_value END) as os_status,\n        MAX(CASE WHEN attribute_name = 'OS_MONTHS' THEN toFloat64OrNull(attribute_value) END) as os_months\n    FROM clinical_data_derived\n    WHERE cancer_study_identifier = 'ovarian_msk_2025'\n        AND attribute_name IN ('OS_STATUS', 'OS_MONTHS')\n    GROUP BY patient_unique_id\n    HAVING os_months IS NOT NULL\n)\nSELECT \n    pb.brca_status,\n    sd.os_status,\n    sd.os_months,\n    pb.genes\nFROM patient_brca pb\nINNER JOIN survival_data sd ON pb.patient_unique_id = sd.patient_unique_id\nORDER BY pb.brca_status, sd.os_months DESC\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"brca_status":"BRCA_mutated","os_status":"0:LIVING","os_months":88.0,"genes":"BRCA2"},{"brca_status":"BRCA_mutated","os_status":"0:LIVING","os_months":44.0,"genes":"BRCA2"},{"brca_status":"Wild_type","os_status":"0:LIVING","os_months":208.0},{"brca_status":"Wild_type","os_status":"0:LIVING","os_months":160.0},{"brca_status":"Wild_type","os_status":"1:DECEASED","os_months":130.0},{"brca_status":"Wild_type","os_status":"0:LIVING","os_months":85.0},{"brca_status":"Wild_type","os_status":"1:DECEASED","os_months":83.0},{"brca_status":"Wild_type","os_status":"1:DECEASED","os_months":82.0},{"brca_status":"Wild_type","os_status":"0:LIVING","os_months":80.0},{"brca_status":"Wild_type","os_status":"1:DECEASED","os_months":79.0},{"brca_status":"Wild_type","os_status":"0:LIVING","os_months":75.0},{"brca_status":"Wild_type","os_status":"1:DECEASED","os_months":75.0},{"brca_status":"Wild_type","os_status":"1:DECEASED","os_months":58.0},{"brca_status":"Wild_type","os_status":"1:DECEASED","os_months":51.0},{"brca_status":"Wild_type","os_status":"0:LIVING","os_months":44.0},{"brca_status":"Wild_type","os_status":"0:LIVING","os_months":40.0},{"brca_status":"Wild_type","os_status":"1:DECEASED","os_months":39.0},{"brca_status":"Wild_type","os_status":"0:LIVING","os_months":38.0},{"brca_status":"Wild_type","os_status":"0:LIVING","os_months":35.0},{"brca_status":"Wild_type","os_status":"0:LIVING","os_months":33.0},{"brca_status":"Wild_type","os_status":"0:LIVING","os_months":28.0},{"brca_status":"Wild_type","os_status":"0:LIVING","os_months":25.0},{"brca_status":"Wild_type","os_status":"1:DECEASED","os_months":19.0},{"brca_status":"Wild_type","os_status":"1:DECEASED","os_months":18.0},{"brca_status":"Wild_type","os_status":"1:DECEASED","os_months":4.0},{"brca_status":"Wild_type","os_status":"1:DECEASED","os_months":1.0},{"brca_status":"Wild_type","os_status":"1:DECEASED","os_months":0.0}]}
```


Perfect! Now let me perform a statistical test to see if there's a significant difference. Let me calculate some additional statistics:



Calling `clickhouse_run_select_query` with args:
```json
{
  "query": "\n-- Calculate survival rates at different time points\nWITH brca_status AS (\n    SELECT DISTINCT\n        patient_unique_id,\n        1 as has_brca_mutation\n    FROM genomic_event_derived\n    WHERE cancer_study_identifier = 'ovarian_msk_2025'\n        AND variant_type = 'mutation'\n        AND hugo_gene_symbol IN ('BRCA1', 'BRCA2')\n),\npatient_brca AS (\n    SELECT \n        ap.patient_unique_id,\n        CASE \n            WHEN bs.has_brca_mutation = 1 THEN 'BRCA_mutated'\n            ELSE 'Wild_type'\n        END as brca_status\n    FROM (\n        SELECT DISTINCT patient_unique_id FROM clinical_data_derived \n        WHERE cancer_study_identifier = 'ovarian_msk_2025'\n    ) ap\n    LEFT JOIN brca_status bs ON ap.patient_unique_id = bs.patient_unique_id\n),\nsurvival_data AS (\n    SELECT \n        patient_unique_id,\n        MAX(CASE WHEN attribute_name = 'OS_STATUS' THEN attribute_value END) as os_status,\n        MAX(CASE WHEN attribute_name = 'OS_MONTHS' THEN toFloat64OrNull(attribute_value) END) as os_months\n    FROM clinical_data_derived\n    WHERE cancer_study_identifier = 'ovarian_msk_2025'\n        AND attribute_name IN ('OS_STATUS', 'OS_MONTHS')\n    GROUP BY patient_unique_id\n    HAVING os_months IS NOT NULL\n),\ncombined AS (\n    SELECT \n        pb.brca_status,\n        sd.os_status,\n        sd.os_months\n    FROM patient_brca pb\n    INNER JOIN survival_data sd ON pb.patient_unique_id = sd.patient_unique_id\n)\nSELECT \n    brca_status,\n    -- Overall mortality rate\n    round(COUNT(CASE WHEN os_status = '1:DECEASED' THEN 1 END) * 100.0 / COUNT(*), 1) as mortality_rate_percent,\n    -- 1-year survival (12 months)\n    COUNT(CASE WHEN os_months >= 12 THEN 1 END) as survived_1yr,\n    round(COUNT(CASE WHEN os_months >= 12 THEN 1 END) * 100.0 / COUNT(*), 1) as survival_rate_1yr_percent,\n    -- 3-year survival (36 months)\n    COUNT(CASE WHEN os_months >= 36 THEN 1 END) as survived_3yr,\n    round(COUNT(CASE WHEN os_months >= 36 THEN 1 END) * 100.0 / COUNT(*), 1) as survival_rate_3yr_percent,\n    -- 5-year survival (60 months)\n    COUNT(CASE WHEN os_months >= 60 THEN 1 END) as survived_5yr,\n    round(COUNT(CASE WHEN os_months >= 60 THEN 1 END) * 100.0 / COUNT(*), 1) as survival_rate_5yr_percent\nFROM combined\nGROUP BY brca_status\nORDER BY brca_status\n"
}
```



Result from `clickhouse_run_select_query`:
```json
{"rows":[{"brca_status":"BRCA_mutated","mortality_rate_percent":0.0,"survived_1yr":2,"survival_rate_1yr_percent":100.0,"survived_3yr":2,"survival_rate_3yr_percent":100.0,"survived_5yr":1,"survival_rate_5yr_percent":50.0},{"brca_status":"Wild_type","mortality_rate_percent":52.0,"survived_1yr":22,"survival_rate_1yr_percent":88.0,"survived_3yr":16,"survival_rate_3yr_percent":64.0,"survived_5yr":10,"survival_rate_5yr_percent":40.0}]}
```


## Summary: Overall Survival Analysis in Ovarian Cancer Patients with BRCA1/BRCA2 Alterations

Based on the analysis of the **Serous Ovarian Cancer (MSK, 2025)** study, here are the findings:

### Patient Cohort:
- **Total patients analyzed**: 27
  - **BRCA-mutated**: 2 patients (both with BRCA2 mutations)
  - **Wild-type**: 25 patients

### Survival Statistics:

| Metric | BRCA-Mutated (n=2) | Wild-Type (n=25) |
|--------|-------------------|------------------|
| **Median OS** | 66.0 months | 44.0 months |
| **Mean OS** | 66.0 months | 59.6 months |
| **Range** | 44-88 months | 0-208 months |
| **Mortality Rate** | 0% (0/2 deceased) | 52% (13/25 deceased) |

### Survival Rates at Key Time Points:

| Time Point | BRCA-Mutated | Wild-Type |
|------------|--------------|-----------|
| **1-year survival** | 100% (2/2) | 88% (22/25) |
| **3-year survival** | 100% (2/2) | 64% (16/25) |
| **5-year survival** | 50% (1/2) | 40% (10/25) |

### Key Observations:

1. **Better median survival**: BRCA-mutated patients show a **22-month longer median survival** (66 vs 44 months)

2. **Lower mortality**: BRCA-mutated patients have 0% mortality vs 52% in wild-type patients

3. **Specific mutations**: Both BRCA-mutated patients had BRCA2 alterations (1 Frame_Shift_Del, 1 Splice_Site)

### Important Limitations:

⚠️ **Statistical Significance Cannot Be Determined** due to:
- **Very small sample size** of BRCA-mutated patients (n=2)
- Insufficient power for statistical testing
- Both BRCA-mutated patients are still living, creating censored data

### Clinical Context:

The trend suggests **better survival in BRCA-mutated ovarian cancer patients**, which aligns with published literature showing that BRCA1/2-mutated ovarian cancers often respond better to platinum-based chemotherapy and PARP inhibitors. However, this dataset is too small to draw definitive conclusions.

**Recommendation**: A larger cohort would be needed to perform proper survival analysis (e.g., Kaplan-Meier curves with log-rank test) and establish statistical significance.

---

## Model Information
- **model**: us.anthropic.claude-sonnet-4-5-20250929-v1:0
- **temperature**: 0.0
- **max_output_tokens**: 1024
- **thinking_enabled**: False
- **thinking_budget_tokens**: 1024
- **response_time_seconds**: 64.78623807698023
- **agent_type**: mcp-clickhouse

### Usage
- **input_tokens**: 72853
- **output_tokens**: 4872
- **total_tokens**: 77725
- **cache_creation_input_tokens**: 0
- **cache_read_input_tokens**: 0

---

*Generated on 2026-02-05 13:03:12*