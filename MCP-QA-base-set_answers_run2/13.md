# Question 13

**Type:** Survival Analysis - Gene Alteration

**Question:** For the TCGA pan-cancer cohort what is the survival difference and the corresponding statistical significance between patients with mutations in both TP53 and KRAS versus patients with only a KRAS mutation?

**Answer:**

Perfect! Now I have comprehensive data to answer the user's question. Based on my analysis of the TCGA Pan-Cancer Atlas data, I can provide the survival comparison between patients with both TP53 and KRAS mutations versus those with only KRAS mutations.

## Analysis of Survival Differences in TCGA Pan-Cancer Cohort

Based on my analysis of the TCGA Pan-Cancer Atlas data, here are the key findings for the survival comparison between patients with mutations in both TP53 and KRAS versus patients with only KRAS mutations:

### **Patient Cohorts:**
- **Both TP53 and KRAS mutations**: 338 patients (331 with survival data)
- **KRAS mutations only**: 425 patients (418 with survival data)

### **Survival Outcomes:**

| Metric | Both Mutations (TP53+KRAS) | KRAS Only | Difference |
|--------|----------------------------|-----------|------------|
| **Mean Overall Survival** | 26.64 months | 29.86 months | -3.22 months |
| **Median Overall Survival** | 19.33 months | 21.16 months | -1.83 months |
| **Death Rate** | 37.5% (124/331) | 31.1% (130/418) | +6.4 percentage points |

### **Key Statistical Findings:**

1. **Survival Duration**: Patients with both TP53 and KRAS mutations had worse survival outcomes:
   - 3.2 months shorter mean survival
   - 1.8 months shorter median survival

2. **Mortality Risk**: The dual mutation group showed:
   - Higher death rate (37.5% vs 31.1%)
   - 6.4 percentage point increase in mortality risk

3. **Distribution**: 
   - Q1 (25th percentile): 11.0 vs 11.5 months
   - Q3 (75th percentile): 34.8 vs 38.9 months

### **Cancer Type Analysis:**
The most significant contributions to these cohorts came from:
- **Colorectal cancer (COADREAD)**: 125 both mutations, 93 KRAS-only
- **Lung adenocarcinoma (LUAD)**: 62 both mutations, 106 KRAS-only  
- **Pancreatic cancer (PAAD)**: 90 both mutations, 27 KRAS-only

### **Statistical Significance Limitations:**
I cannot provide formal statistical significance testing (p-values) through this database interface, as it would require statistical functions not available in this query environment. For proper statistical analysis, you would need to perform:
- Log-rank test for survival curve comparison
- Cox proportional hazards regression
- Kaplan-Meier survival analysis

However, the observed differences suggest a clinically meaningful survival disadvantage for patients with both TP53 and KRAS mutations compared to those with KRAS mutations alone, consistent with the known biology where TP53 mutations often indicate more aggressive disease progression.

---

## SQL Queries Executed

### Query 1
**Timestamp:** 2025-09-30 18:12:14

```sql
SELECT cancer_study_identifier, name, description
FROM cancer_study
WHERE cancer_study_identifier LIKE '%tcga%' OR name LIKE '%TCGA%' OR description LIKE '%TCGA%'
ORDER BY cancer_study_identifier
LIMIT 20
```

### Query 2
**Timestamp:** 2025-09-30 18:12:18

```sql
SELECT DISTINCT attribute_name, description
FROM clinical_attribute_meta
WHERE (attribute_name LIKE '%survival%' OR attribute_name LIKE '%OS%' OR attribute_name LIKE '%PFS%' OR attribute_name LIKE '%status%' OR attribute_name LIKE '%time%' OR description LIKE '%survival%')
AND cancer_study_identifier LIKE '%pan_can_atlas%'
ORDER BY attribute_name
LIMIT 20
```

### Query 3
**Timestamp:** 2025-09-30 18:12:25

```sql
SELECT DISTINCT attr_id, display_name, description
FROM clinical_attribute_meta
WHERE (attr_id LIKE '%survival%' OR attr_id LIKE '%OS%' OR attr_id LIKE '%PFS%' OR attr_id LIKE '%status%' OR attr_id LIKE '%time%' OR description LIKE '%survival%' OR display_name LIKE '%survival%')
ORDER BY attr_id
LIMIT 20
```

### Query 4
**Timestamp:** 2025-09-30 18:12:28

```sql
SELECT DISTINCT attr_id, display_name, description
FROM clinical_attribute_meta
WHERE attr_id LIKE '%OS%' OR attr_id LIKE '%OVERALL_SURVIVAL%' OR display_name LIKE '%Overall Survival%' OR description LIKE '%overall survival%'
ORDER BY attr_id
LIMIT 20
```

### Query 5
**Timestamp:** 2025-09-30 18:12:32

```sql
SELECT cs.cancer_study_identifier, COUNT(*) as num_attributes
FROM clinical_attribute_meta cam
JOIN cancer_study cs ON cam.cancer_study_id = cs.cancer_study_id
WHERE cs.cancer_study_identifier LIKE '%pan_can_atlas%'
GROUP BY cs.cancer_study_identifier
ORDER BY cs.cancer_study_identifier
LIMIT 10
```

### Query 6
**Timestamp:** 2025-09-30 18:12:36

```sql
SELECT cam.attr_id, cam.display_name, cam.description
FROM clinical_attribute_meta cam
JOIN cancer_study cs ON cam.cancer_study_id = cs.cancer_study_id
WHERE cs.cancer_study_identifier = 'brca_tcga_pan_can_atlas_2018'
ORDER BY cam.attr_id
LIMIT 30
```

### Query 7
**Timestamp:** 2025-09-30 18:12:43

```sql
SELECT cam.attr_id, cam.display_name, cam.description
FROM clinical_attribute_meta cam
JOIN cancer_study cs ON cam.cancer_study_id = cs.cancer_study_id
WHERE cs.cancer_study_identifier = 'brca_tcga_pan_can_atlas_2018'
AND (cam.attr_id LIKE '%OS%' OR cam.attr_id LIKE '%MONTHS%' OR cam.attr_id LIKE '%STATUS%' OR cam.display_name LIKE '%survival%' OR cam.display_name LIKE '%Survival%')
ORDER BY cam.attr_id
```

### Query 8
**Timestamp:** 2025-09-30 18:12:50

```sql
SELECT
cancer_study_identifier,
COUNT(DISTINCT CASE WHEN hugo_gene_symbol = 'TP53' THEN patient_unique_id END) as tp53_mutated_patients,
COUNT(DISTINCT CASE WHEN hugo_gene_symbol = 'KRAS' THEN patient_unique_id END) as kras_mutated_patients,
COUNT(DISTINCT patient_unique_id) as total_mutated_patients
FROM genomic_event_derived
WHERE variant_type = 'mutation'
AND hugo_gene_symbol IN ('TP53', 'KRAS')
AND cancer_study_identifier LIKE '%pan_can_atlas%'
GROUP BY cancer_study_identifier
ORDER BY cancer_study_identifier
```

### Query 9
**Timestamp:** 2025-09-30 18:13:01

```sql
WITH patient_mutations AS (
SELECT
patient_unique_id,
cancer_study_identifier,
MAX(CASE WHEN hugo_gene_symbol = 'TP53' THEN 1 ELSE 0 END) as has_tp53,
MAX(CASE WHEN hugo_gene_symbol = 'KRAS' THEN 1 ELSE 0 END) as has_kras
FROM genomic_event_derived
WHERE variant_type = 'mutation'
AND hugo_gene_symbol IN ('TP53', 'KRAS')
AND cancer_study_identifier LIKE '%pan_can_atlas%'
GROUP BY patient_unique_id, cancer_study_identifier
),
mutation_groups AS (
SELECT
patient_unique_id,
cancer_study_identifier,
CASE
WHEN has_tp53 = 1 AND has_kras = 1 THEN 'both_mutations'
WHEN has_tp53 = 0 AND has_kras = 1 THEN 'kras_only'
WHEN has_tp53 = 1 AND has_kras = 0 THEN 'tp53_only'
ELSE 'neither'
END as mutation_group
FROM patient_mutations
)
SELECT
mutation_group,
COUNT(*) as patient_count
FROM mutation_groups
WHERE mutation_group IN ('both_mutations', 'kras_only')
GROUP BY mutation_group
ORDER BY mutation_group
```

### Query 10
**Timestamp:** 2025-09-30 18:13:05

```sql
SELECT
patient_unique_id,
cancer_study_identifier,
MAX(CASE WHEN hugo_gene_symbol = 'TP53' THEN 1 ELSE 0 END) as has_tp53,
MAX(CASE WHEN hugo_gene_symbol = 'KRAS' THEN 1 ELSE 0 END) as has_kras
FROM genomic_event_derived
WHERE variant_type = 'mutation'
AND hugo_gene_symbol IN ('TP53', 'KRAS')
AND cancer_study_identifier LIKE '%pan_can_atlas%'
GROUP BY patient_unique_id, cancer_study_identifier
HAVING has_kras = 1
ORDER BY has_tp53 DESC, patient_unique_id
LIMIT 20
```

### Query 11
**Timestamp:** 2025-09-30 18:13:11

```sql
SELECT
CASE
WHEN has_tp53 = 1 AND has_kras = 1 THEN 'both_mutations'
WHEN has_tp53 = 0 AND has_kras = 1 THEN 'kras_only'
END as mutation_group,
COUNT(*) as patient_count
FROM (
SELECT
patient_unique_id,
cancer_study_identifier,
MAX(CASE WHEN hugo_gene_symbol = 'TP53' THEN 1 ELSE 0 END) as has_tp53,
MAX(CASE WHEN hugo_gene_symbol = 'KRAS' THEN 1 ELSE 0 END) as has_kras
FROM genomic_event_derived
WHERE variant_type = 'mutation'
AND hugo_gene_symbol IN ('TP53', 'KRAS')
AND cancer_study_identifier LIKE '%pan_can_atlas%'
GROUP BY patient_unique_id, cancer_study_identifier
HAVING has_kras = 1
) mutation_data
GROUP BY mutation_group
ORDER BY mutation_group
```

### Query 12
**Timestamp:** 2025-09-30 18:13:21

```sql
SELECT
mutation_group,
COUNT(*) as patient_count,
AVG(CASE WHEN os_months != '' THEN toFloat64(os_months) END) as mean_os_months,
COUNT(CASE WHEN os_status = '1:DECEASED' THEN 1 END) as deaths,
COUNT(CASE WHEN os_months != '' THEN 1 END) as patients_with_os_data
FROM (
SELECT
mut.patient_unique_id,
mut.cancer_study_identifier,
CASE
WHEN mut.has_tp53 = 1 AND mut.has_kras = 1 THEN 'both_mutations'
WHEN mut.has_tp53 = 0 AND mut.has_kras = 1 THEN 'kras_only'
END as mutation_group,
cdd.attribute_value as os_months
FROM (
SELECT
patient_unique_id,
cancer_study_identifier,
MAX(CASE WHEN hugo_gene_symbol = 'TP53' THEN 1 ELSE 0 END) as has_tp53,
MAX(CASE WHEN hugo_gene_symbol = 'KRAS' THEN 1 ELSE 0 END) as has_kras
FROM genomic_event_derived
WHERE variant_type = 'mutation'
AND hugo_gene_symbol IN ('TP53', 'KRAS')
AND cancer_study_identifier LIKE '%pan_can_atlas%'
GROUP BY patient_unique_id, cancer_study_identifier
HAVING has_kras = 1
) mut
LEFT JOIN clinical_data_derived cdd ON mut.patient_unique_id = cdd.patient_unique_id
AND mut.cancer_study_identifier = cdd.cancer_study_identifier
AND cdd.attribute_name = 'OS_MONTHS'
AND cdd.type = 'patient'
) survival_data
LEFT JOIN (
SELECT
patient_unique_id,
cancer_study_identifier,
attribute_value as os_status
FROM clinical_data_derived
WHERE attribute_name = 'OS_STATUS' AND type = 'patient'
) status_data ON survival_data.patient_unique_id = status_data.patient_unique_id
AND survival_data.cancer_study_identifier = status_data.cancer_study_identifier
GROUP BY mutation_group
ORDER BY mutation_group
```

### Query 13
**Timestamp:** 2025-09-30 18:13:31

```sql
SELECT
mutation_group,
COUNT(*) as patient_count,
AVG(CASE WHEN os_months != '' AND os_months != 'NA' AND isValidUTF8(os_months)
AND match(os_months, '^[0-9]+\.?[0-9]*$')
THEN toFloat64OrNull(os_months) END) as mean_os_months,
COUNT(CASE WHEN os_status = '1:DECEASED' THEN 1 END) as deaths,
COUNT(CASE WHEN os_months != '' AND os_months != 'NA' AND match(os_months, '^[0-9]+\.?[0-9]*$') THEN 1 END) as patients_with_os_data
FROM (
SELECT
mut.patient_unique_id,
mut.cancer_study_identifier,
CASE
WHEN mut.has_tp53 = 1 AND mut.has_kras = 1 THEN 'both_mutations'
WHEN mut.has_tp53 = 0 AND mut.has_kras = 1 THEN 'kras_only'
END as mutation_group,
cdd.attribute_value as os_months,
status_data.attribute_value as os_status
FROM (
SELECT
patient_unique_id,
cancer_study_identifier,
MAX(CASE WHEN hugo_gene_symbol = 'TP53' THEN 1 ELSE 0 END) as has_tp53,
MAX(CASE WHEN hugo_gene_symbol = 'KRAS' THEN 1 ELSE 0 END) as has_kras
FROM genomic_event_derived
WHERE variant_type = 'mutation'
AND hugo_gene_symbol IN ('TP53', 'KRAS')
AND cancer_study_identifier LIKE '%pan_can_atlas%'
GROUP BY patient_unique_id, cancer_study_identifier
HAVING has_kras = 1
) mut
LEFT JOIN clinical_data_derived cdd ON mut.patient_unique_id = cdd.patient_unique_id
AND mut.cancer_study_identifier = cdd.cancer_study_identifier
AND cdd.attribute_name = 'OS_MONTHS'
AND cdd.type = 'patient'
LEFT JOIN (
SELECT
patient_unique_id,
cancer_study_identifier,
attribute_value
FROM clinical_data_derived
WHERE attribute_name = 'OS_STATUS' AND type = 'patient'
) status_data ON mut.patient_unique_id = status_data.patient_unique_id
AND mut.cancer_study_identifier = status_data.cancer_study_identifier
) survival_data
GROUP BY mutation_group
ORDER BY mutation_group
```

### Query 14
**Timestamp:** 2025-09-30 18:13:41

```sql
SELECT
mutation_group,
toFloat64OrNull(os_months) as os_months_numeric,
os_status,
COUNT(*) as count
FROM (
SELECT
mut.patient_unique_id,
mut.cancer_study_identifier,
CASE
WHEN mut.has_tp53 = 1 AND mut.has_kras = 1 THEN 'both_mutations'
WHEN mut.has_tp53 = 0 AND mut.has_kras = 1 THEN 'kras_only'
END as mutation_group,
cdd.attribute_value as os_months,
status_data.attribute_value as os_status
FROM (
SELECT
patient_unique_id,
cancer_study_identifier,
MAX(CASE WHEN hugo_gene_symbol = 'TP53' THEN 1 ELSE 0 END) as has_tp53,
MAX(CASE WHEN hugo_gene_symbol = 'KRAS' THEN 1 ELSE 0 END) as has_kras
FROM genomic_event_derived
WHERE variant_type = 'mutation'
AND hugo_gene_symbol IN ('TP53', 'KRAS')
AND cancer_study_identifier LIKE '%pan_can_atlas%'
GROUP BY patient_unique_id, cancer_study_identifier
HAVING has_kras = 1
) mut
LEFT JOIN clinical_data_derived cdd ON mut.patient_unique_id = cdd.patient_unique_id
AND mut.cancer_study_identifier = cdd.cancer_study_identifier
AND cdd.attribute_name = 'OS_MONTHS'
AND cdd.type = 'patient'
LEFT JOIN (
SELECT
patient_unique_id,
cancer_study_identifier,
attribute_value
FROM clinical_data_derived
WHERE attribute_name = 'OS_STATUS' AND type = 'patient'
) status_data ON mut.patient_unique_id = status_data.patient_unique_id
AND mut.cancer_study_identifier = status_data.cancer_study_identifier
) survival_data
WHERE os_months != '' AND os_months != 'NA' AND match(os_months, '^[0-9]+\.?[0-9]*$')
GROUP BY mutation_group, os_months_numeric, os_status
ORDER BY mutation_group, os_months_numeric
LIMIT 50
```

### Query 15
**Timestamp:** 2025-09-30 18:13:52

```sql
SELECT
mutation_group,
COUNT(*) as total_patients,
COUNT(CASE WHEN os_months_numeric IS NOT NULL THEN 1 END) as patients_with_survival_data,
COUNT(CASE WHEN os_status = '1:DECEASED' THEN 1 END) as deaths,
COUNT(CASE WHEN os_status = '0:LIVING' THEN 1 END) as alive,
ROUND(AVG(os_months_numeric), 2) as mean_os_months,
quantile(0.5)(os_months_numeric) as median_os_months,
quantile(0.25)(os_months_numeric) as q1_os_months,
quantile(0.75)(os_months_numeric) as q3_os_months,
ROUND(100.0 * COUNT(CASE WHEN os_status = '1:DECEASED' THEN 1 END) /
COUNT(CASE WHEN os_months_numeric IS NOT NULL THEN 1 END), 2) as death_rate_percent
FROM (
SELECT
mut.patient_unique_id,
mut.cancer_study_identifier,
CASE
WHEN mut.has_tp53 = 1 AND mut.has_kras = 1 THEN 'both_mutations'
WHEN mut.has_tp53 = 0 AND mut.has_kras = 1 THEN 'kras_only'
END as mutation_group,
CASE
WHEN cdd.attribute_value != '' AND cdd.attribute_value != 'NA' AND match(cdd.attribute_value, '^[0-9]+\.?[0-9]*$')
THEN toFloat64OrNull(cdd.attribute_value)
END as os_months_numeric,
status_data.attribute_value as os_status
FROM (
SELECT
patient_unique_id,
cancer_study_identifier,
MAX(CASE WHEN hugo_gene_symbol = 'TP53' THEN 1 ELSE 0 END) as has_tp53,
MAX(CASE WHEN hugo_gene_symbol = 'KRAS' THEN 1 ELSE 0 END) as has_kras
FROM genomic_event_derived
WHERE variant_type = 'mutation'
AND hugo_gene_symbol IN ('TP53', 'KRAS')
AND cancer_study_identifier LIKE '%pan_can_atlas%'
GROUP BY patient_unique_id, cancer_study_identifier
HAVING has_kras = 1
) mut
LEFT JOIN clinical_data_derived cdd ON mut.patient_unique_id = cdd.patient_unique_id
AND mut.cancer_study_identifier = cdd.cancer_study_identifier
AND cdd.attribute_name = 'OS_MONTHS'
AND cdd.type = 'patient'
LEFT JOIN (
SELECT
patient_unique_id,
cancer_study_identifier,
attribute_value
FROM clinical_data_derived
WHERE attribute_name = 'OS_STATUS' AND type = 'patient'
) status_data ON mut.patient_unique_id = status_data.patient_unique_id
AND mut.cancer_study_identifier = status_data.cancer_study_identifier
) survival_data
WHERE mutation_group IS NOT NULL
GROUP BY mutation_group
ORDER BY mutation_group
```

### Query 16
**Timestamp:** 2025-09-30 18:14:02

```sql
SELECT
mut.cancer_study_identifier,
CASE
WHEN mut.has_tp53 = 1 AND mut.has_kras = 1 THEN 'both_mutations'
WHEN mut.has_tp53 = 0 AND mut.has_kras = 1 THEN 'kras_only'
END as mutation_group,
COUNT(*) as patient_count,
COUNT(CASE WHEN os_status = '1:DECEASED' THEN 1 END) as deaths,
ROUND(AVG(os_months_numeric), 2) as mean_os_months
FROM (
SELECT
patient_unique_id,
cancer_study_identifier,
MAX(CASE WHEN hugo_gene_symbol = 'TP53' THEN 1 ELSE 0 END) as has_tp53,
MAX(CASE WHEN hugo_gene_symbol = 'KRAS' THEN 1 ELSE 0 END) as has_kras
FROM genomic_event_derived
WHERE variant_type = 'mutation'
AND hugo_gene_symbol IN ('TP53', 'KRAS')
AND cancer_study_identifier LIKE '%pan_can_atlas%'
GROUP BY patient_unique_id, cancer_study_identifier
HAVING has_kras = 1
) mut
LEFT JOIN (
SELECT
patient_unique_id,
cancer_study_identifier,
CASE
WHEN attribute_value != '' AND attribute_value != 'NA' AND match(attribute_value, '^[0-9]+\.?[0-9]*$')
THEN toFloat64OrNull(attribute_value)
END as os_months_numeric
FROM clinical_data_derived
WHERE attribute_name = 'OS_MONTHS' AND type = 'patient'
) survival_data ON mut.patient_unique_id = survival_data.patient_unique_id
AND mut.cancer_study_identifier = survival_data.cancer_study_identifier
LEFT JOIN (
SELECT
patient_unique_id,
cancer_study_identifier,
attribute_value as os_status
FROM clinical_data_derived
WHERE attribute_name = 'OS_STATUS' AND type = 'patient'
) status_data ON mut.patient_unique_id = status_data.patient_unique_id
AND mut.cancer_study_identifier = status_data.cancer_study_identifier
GROUP BY mut.cancer_study_identifier, mutation_group
HAVING patient_count >= 5
ORDER BY mut.cancer_study_identifier, mutation_group
```


---

## Model Information
**Model:** anthropic:claude-sonnet-4-20250514
**Provider:** Anthropic
**Max Tokens:** 4096

---

*Generated on 2025-09-30 18:14:17*